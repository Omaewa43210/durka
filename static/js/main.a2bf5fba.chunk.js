(this.webpackJsonpdurka=this.webpackJsonpdurka||[]).push([[0],{158:function(e,t,a){e.exports=a(313)},300:function(e,t){},313:function(e,t,a){"use strict";a.r(t);a(159),a(185),a(187),a(188),a(190),a(191),a(192),a(193),a(194),a(195),a(196),a(197),a(199),a(200),a(201),a(202),a(203),a(204),a(205),a(206),a(207),a(208),a(210),a(211),a(212),a(213),a(214),a(215),a(216),a(217),a(218),a(219),a(220),a(221),a(222),a(223),a(224),a(225),a(226),a(227);var n=a(0),o=a.n(n),c=a(90),r=a.n(c),l=a(32),i=a.n(l),s=a(12),m=a(98),u=a.n(m),d=(a(251),a(93)),p=a.n(d),f=a(52),h=a.n(f),b=a(99),g=a.n(b),E=a(70),k=a.n(E),v=a(46),C=a.n(v),y=a(94),O=a.n(y),S=a(95),N=a.n(S),j=a(96),I=a.n(j),w=a(97),P=a.n(w),A=a(37),x=a.n(A),V=a(157),U=a.n(V),R=a(91),D=a.n(R),T=(a(253),a(150)),W=a.n(T),G=a(151),K=a.n(G),_=a(45),F=a.n(_),H=a(50),z=a.n(H),B=a(23),L=a.n(B),q=a(92),J=a.n(q),M=a(152),Q=a.n(M),Z=a(71),X=a.n(Z),Y=a(51),$=a.n(Y),ee=(a(254),a(84),a(149)),te=a.n(ee),ae=function(e){var t=e.id,a=e.firstName,n=e.lastName,c=e.rating,r=e.photoURL,l=e.amount;return o.a.createElement(L.a,{className:"card"},o.a.createElement("span",{className:"listNumber"},t),o.a.createElement(z.a,{className:"myItem",before:r?o.a.createElement(x.a,{src:r}):o.a.createElement(x.a,{src:"https://vk.com/images/camera_200.png"}),description:"DurkaCoins: ".concat(l),asideContent:c,indicator:o.a.createElement(te.a,{fill:"black"})},a+" "+n))},ne=function(e){var t=e.id,a=e.name,n=(e.color,e.price),c=e.icon,r=e.openPay;return o.a.createElement(L.a,{className:"card"},o.a.createElement(z.a,{className:"myItem",before:c,asideContent:o.a.createElement($.a,{id:t,onClick:r,mode:"tertiary"},"\u043a\u0443\u043f\u0438\u0442\u044c"),description:n+" DCoin"},a))},oe=function(e){var t=e.id,a=(e.go,e.fetchedUser),n=e.tabShop,c=e.tabHome,r=e.tabTop,l=e.activeTab,i=e.dataUsers,s=(e.progressOnChange,e.dispatch,e.state,e.story,e.addGroup),m=(e.incDec,e.openBase),u=e.dataShop,d=e.openPay,p=e.inventoryOpen,f=e.inventory,h=e.dataInventory,b=(e.getUser,e.durkaCoins),g=e.shisoids,E=(e.transfer,e.targetId,e.onChangeHandlerId,e.onChangeHandlerAmount,e.amount,e.activeModal,e.openTransfer),k=e.snackbar,v=i.map((function(e,t){return o.a.createElement(ae,{key:e.id,id:t+1,photoURL:e.photoURL,firstName:e.firstName,lastName:e.lastName,rating:e.rating,amount:e.durkaCoins})})),C=u.map((function(e){return o.a.createElement(ne,{key:e.id,id:e.id,name:e.name,price:e.price,icon:e.icon,openPay:d})})),y=h.map((function(e){return o.a.createElement(ne,{key:e.id,id:e.id,name:e.name,price:e.price,icon:e.icon,openPay:d})}));return o.a.createElement(W.a,{id:t},o.a.createElement(K.a,null,"\u0414\u0423\u0420\u041a\u0410"),o.a.createElement(J.a,{vertical:"top"},o.a.createElement(Q.a,{className:"TabsDefaultUser"},o.a.createElement(X.a,{onClick:r,selected:"top"===l},"\u0422\u041e\u041f"),o.a.createElement(X.a,{onClick:c,selected:"home"===l},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),o.a.createElement(X.a,{onClick:n,selected:"shop"===l},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"))),"top"===l?o.a.createElement(L.a,{className:"top"},v):"","home"===l?o.a.createElement(o.a.Fragment,null,o.a.createElement(L.a,{className:"main"},a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{before:a.photo_200?o.a.createElement(x.a,{src:a.photo_200,size:120}):null}),o.a.createElement(L.a,null,"".concat(a.first_name," ").concat(a.last_name," ","(\u0428\u0438\u0437\u043e\u0438\u0434)"))),o.a.createElement(L.a,{className:"flexStart"},o.a.createElement(L.a,{className:"divPadding"},"\u041f\u0440\u0438\u0432\u043b\u0435\u0447\u0435\u043d\u043e: ",g," \u0448\u0438\u0437\u043e\u0438\u0434\u043e\u0432"),o.a.createElement(L.a,{className:"divPadding"},"\u0411\u0430\u043b\u0430\u043d\u0441: ",b," DurkaCoins")),o.a.createElement(F.a,{mode:"commerce",size:"xl",stretched:!0,onClick:m},"\u041f\u0440\u0438\u0432\u043b\u0435\u0447\u044c \u0448\u0438\u0437\u043e\u0438\u0434\u043e\u0432"),o.a.createElement(F.a,{className:"buttonAddGroup",mode:"commerce",onClick:s,size:"xl",stretched:!0},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043d\u0430\u0448\u0443 \u0433\u0440\u0443\u043f\u043f\u0443"),o.a.createElement(F.a,{className:"buttonAddGroup",mode:"commerce",onClick:E,size:"xl",stretched:!0},"\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438"),f?o.a.createElement($.a,{className:"inventory",id:t,onClick:p,mode:"tertiary"},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c"):o.a.createElement(o.a.Fragment,null,o.a.createElement($.a,{className:"inventory",id:t,onClick:p,mode:"tertiary"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c"),o.a.createElement(L.a,null,y)))):"","shop"===l?o.a.createElement(L.a,{className:"top"},C):"",k)},ce=a(153),re=a.n(ce),le=a(154),ie=a.n(le),se=a(155),me=a.n(se),ue=[{id:1,name:"Blue \u043f\u0438\u043b\u044e\u043b\u044f\t",price:50,icon:o.a.createElement(h.a,{fill:"blue"})},{id:2,name:"Red \u043f\u0438\u043b\u044e\u043b\u044f",price:500,icon:o.a.createElement(h.a,{fill:"red"})},{id:3,name:"Gold \u043f\u0438\u043b\u044e\u043b\u044f",price:5e3,icon:o.a.createElement(h.a,{fill:"orange"})},{id:4,name:"\u041e\u0442\u043f\u0443\u0441\u043a",price:50,icon:o.a.createElement(ie.a,{fill:"black"})},{id:5,name:"\u0421\u043c\u0438\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0440\u0443\u0431\u0430\u0448\u043a\u0430",price:50,icon:o.a.createElement(me.a,{fill:"black"})},{id:6,name:"\u041e\u0434\u0438\u043d\u043e\u0447\u043d\u0430\u044f \u043a\u0430\u043c\u0435\u0440\u0430",price:500,icon:o.a.createElement(re.a,{fill:"black"})}],de=a(156),pe=a.n(de)()("https://digital-space74.tk",{path:"/durka/socket",query:document.location.search.slice(1)}),fe=function(){var e=window.navigator.onLine,t=Object(n.useState)("home"),a=Object(s.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)(null),m=Object(s.a)(l,2),d=m[0],f=m[1],b=Object(n.useState)("home"),E=Object(s.a)(b,2),v=E[0],y=E[1],S=Object(n.useState)(!1),j=Object(s.a)(S,2),w=(j[0],j[1]),A=Object(n.useState)(),V=Object(s.a)(A,2),R=V[0],T=V[1],W=Object(n.useState)(""),G=Object(s.a)(W,2),K=G[0],_=G[1],F=Object(n.useState)(!1),H=Object(s.a)(F,2),z=(H[0],H[1],Object(n.useState)(!0)),B=Object(s.a)(z,2),L=B[0],q=B[1],J=Object(n.useState)(0),M=Object(s.a)(J,2),Q=M[0],Z=M[1],X=Object(n.useState)(0),Y=Object(s.a)(X,2),$=Y[0],ee=Y[1],te=Object(n.useState)(null),ae=Object(s.a)(te,2),ne=ae[0],ce=ae[1],re=0,le=0,ie=0,se=Object(n.useState)([]),me=Object(s.a)(se,2),de=me[0],fe=me[1],he=Object(n.useState)(ue),be=Object(s.a)(he,2),ge=be[0],Ee=(be[1],Object(n.useState)(null)),ke=Object(s.a)(Ee,2),ve=ke[0],Ce=ke[1],ye=Object(n.useState)(!0),Oe=Object(s.a)(ye,2),Se=Oe[0],Ne=(Oe[1],Object(n.useState)([{id:1,name:"Blue \u043f\u0438\u043b\u044e\u043b\u044f",price:50,icon:o.a.createElement(h.a,{fill:"blue"})}])),je=Object(s.a)(Ne,2),Ie=je[0];je[1];function we(){var e="https://vk.com/app7351258#".concat(d.id);i.a.sendPromise("VKWebAppShowStoryBox",{background_type:"image",url:"https://sun1-89.userapi.com/HoZMa0ZNNFflt4SDnoomx0bNiCmRV-bOhbz3qw/hg7IHG1XIvg.jpg",attachment:{text:"game",type:"url",url:e}}).then((function(e){console.log("story res:",e)})).catch((function(e){console.log("story error:",e)}))}function Pe(e){var t=e.target.value.trim();le=t}function Ae(e){var t=e.target.value.trim();re=+t}function xe(e){e.preventDefault();var t="https://vk.com/app7351258#".concat(d.id);i.a.send("VKWebAppShowWallPostBox",{message:"\u0410 \u0442\u044b \u0443\u0436\u0435 \u0431\u044b\u043b \u0432 \u0414\u0423\u0420\u041a\u0415? \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 - ".concat(t),attachments:"photo-192779261_457239018,https://vk.com/app7351258#".concat(d.id)})}function Ve(){pe.emit("users",null)}function Ue(){var e="https://vk.com/app7351258#".concat(d.id);i.a.sendPromise("VKWebAppGetClientVersion").then((function(t){console.log(t.platform),"web"===t.platform||"mobile-web"===t.platform?window.navigator.clipboard.writeText(e).then((function(){console.log("successfully set",e)}),(function(){console.log("write failed",e)})):i.a.send("VKWebAppCopyText",{text:e})})).catch((function(e){console.log(e)}))}function Re(){}function De(){u.a.post("".concat("https://digital-space74.tk/durka/","/sendDurkaCoins"),{search:localStorage.getItem("search"),targetId:le,amount:re}).then((function(e){console.log("amount 1",isNaN(re),re),console.log("durkaCoins 1",Q),Q<re||!0===isNaN(re)||0===Q?Z(Q):(Z(Q-re),Ve(),Ce(null),function(){if(ne)return;ce(o.a.createElement(U.a,{layout:"vertical",onClose:function(){return ce(null)},before:o.a.createElement(x.a,{size:24,style:{backgroundColor:"green"}},o.a.createElement(D.a,{fill:"#fff",width:14,height:14}))},"\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d!"))}(),le=0,re=0,console.log("transfer res",e))})).catch((function(e){console.log("transfer ERROR",e)}))}Object(n.useEffect)((function(){e?(w(!1),console.log("checkNetworkStatus",e)):(w(!0),console.log("checkNetworkStatus",e)),console.log("dataUsers:",de)}),[e]),Object(n.useEffect)((function(){i.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var o=document.createAttribute("scheme");o.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(o)}})),pe.on("user",(function(e){console.log("socket user got",e),Z(e.durkaCoins),ee(e.shisoids.length),Ve()})),pe.on("users",(function(e){console.log("socket userSSSS got",e),fe(e)})),i.a.send("VKWebAppGetUserInfo").then(f),i.a.sendPromise("VKWebAppGetClientVersion").then((function(e){"ios"===e.platform&&_("ios")})).catch(console.log),function(){var e=window.location.hash;if(!e||Number.isNaN(+e.replace("#","")))return;var t=Number(e.replace("#",""));u.a.post("".concat("https://digital-space74.tk/durka/","/addShisoid"),{referrerId:t,search:localStorage.getItem("search")}).then((function(e){console.log("RESSS",e.data),e.data.status})).catch((function(e){console.log("addshERROR",e)}))}()}),[]),document.qiwiPay=function(){};return o.a.createElement(p.a,{activePanel:c,popout:R,modal:ve},o.a.createElement(oe,{id:"home",fetchedUser:d,go:function(e){r(e.currentTarget.dataset.to)},tabShop:function(){y("shop")},tabHome:function(){y("home")},tabTop:function(){y("top")},activeTab:v,dataUsers:de,getPlatform:K,story:we,addGroup:function e(){i.a.send("VKWebAppJoinGroup",{group_id:192779261}),console.log("\u0432\u044b\u0437\u0432\u0430\u043b\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044e.:",e)},openBase:function e(){console.log("\u0432\u044b\u0437\u0432\u0430\u043b\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044e",e),T(o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,{onClose:function(){return T(null)}},o.a.createElement(C.a,{autoclose:!0,onClick:Ue},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"),o.a.createElement(C.a,{autoclose:!0,onClick:we},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"),o.a.createElement(C.a,{autoclose:!0,onClick:xe},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u0435\u043d\u0435"))))},dataShop:ge,openPay:function(e){ie=e.currentTarget.id,console.log("VALUE targetIdShop",ie);var t=.2*ge[ie-1].price;console.log("priceItem1",t),T(o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,{onClose:function(){return T(null)}},o.a.createElement(C.a,{autoclose:!0},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c DurkaCoin"),o.a.createElement(C.a,{autoclose:!0,onClick:document.qiwiPay},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 QIWI"),o.a.createElement(C.a,{autoclose:!0,onClick:Re},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 VK Pay"))))},inventoryOpen:function(){q(!L)},inventory:L,dataInventory:Ie,transfer:De,targetId:le,targetIdShop:ie,onChangeHandlerId:Pe,onChangeHandlerAmount:Ae,shisoids:$,durkaCoins:Q,amount:re,openTransfer:function(){Ce(o.a.createElement(O.a,{activeModal:"transfer"},o.a.createElement(N.a,{id:"transfer",onClose:function(){return Ce(null)},icon:o.a.createElement(x.a,{size:72,src:"https://sun9-50.userapi.com/c857036/v857036390/aa9a0/i-iQZ4973FQ.jpg"}),header:"\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 DurkaCoins",caption:o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a,null,o.a.createElement(k.a,{top:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f",status:Se?"valid":"error",bottom:Se?"\u0421\u0441\u044b\u043b\u043a\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u0432\u0435\u0440\u043d\u043e!":"\u0421\u0441\u044b\u043b\u043a\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u043d\u0435\u0432\u0435\u0440\u043d\u043e",onChange:Pe,type:"text"}),o.a.createElement(P.a,{top:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e DurkaCoins"},o.a.createElement(k.a,{onChange:Ae,type:"text"})))),actions:[{title:"\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438",mode:"commerce",action:function(){De()}}]})))},snackbar:ne}))};i.a.send("VKWebAppInit"),r.a.render(o.a.createElement(fe,null),document.getElementById("root"))},84:function(e,t,a){}},[[158,1,2]]]);
//# sourceMappingURL=main.a2bf5fba.chunk.js.map