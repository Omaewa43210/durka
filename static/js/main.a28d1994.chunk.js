(this.webpackJsonpdurka=this.webpackJsonpdurka||[]).push([[0],{199:function(e,t,a){e.exports=a(341)},31:function(e,t,a){},338:function(e,t){},341:function(e,t,a){"use strict";a.r(t);a(200),a(226),a(228),a(229),a(231),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(247),a(248),a(249),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259),a(260),a(261),a(262),a(263),a(264),a(265),a(266),a(267),a(268);var n=a(0),c=a.n(n),r=a(40),o=a.n(r),l=a(17),s=a.n(l),i=a(157),m=a(9),u=a(26),d=a.n(u),p=(a(292),a(1)),h=a(45),g=a.n(h),E=a(44),f=a.n(E),b=a(145),v=a.n(b),k=a(51),y=a.n(k),N=a(146),C=a.n(N),I=(a(31),function(e){var t=e.id,a=e.name,n=(e.color,e.price,e.icon),r=(e.openPay,e.openInfo,e.transfer,e.buyItem,e.openUseItem),o=e.count,l=(e.$useItem,e.targetIdInventory,e.scheme);return c.a.createElement(p.h,{className:"bright_light"===l?"cardShopInventoryBlack":"cardShopInventoryGray"},c.a.createElement(p.e,{className:"myItem",before:n,asideContent:c.a.createElement(p.p,{id:t,mode:"tertiary"},o," \u0448\u0442"),description:c.a.createElement(p.h,{className:"div"},c.a.createElement(p.p,{id:t,onClick:r},"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c"))},a))}),j=a(52),O=a.n(j);function T(e,t){var a=t.find((function(t){var a=t.ratingMin,n=t.ratingMax;return e<=(n||1/0)&&e>=a}));return a?a.name:null}var w=function(e){var t=e.id,a=e.firstName,n=e.lastName,r=e.rating,o=e.photoURL,l=e.amount,s=e.idVk,i=e.ranks,m="https://vk.com/id"+s;return c.a.createElement(p.h,{className:"card"},c.a.createElement("span",{className:"listNumber"},t),c.a.createElement(p.p,{href:m,target:"_blank"},c.a.createElement(p.e,{className:"myItem",before:o?c.a.createElement(p.c,{src:o}):c.a.createElement(p.c,{src:"https://vk.com/images/camera_200.png"}),description:c.a.createElement(p.h,{className:"div"},c.a.createElement(p.h,{className:"div"},c.a.createElement(O.a,{fill:"red"})," ".concat(r," "," "," (").concat(T(r,i),")")),c.a.createElement(p.h,{className:"div"},"DurkaCoins: ",l))},a+" "+n)))},S=a(147),F=a.n(S),P=function(e){var t=e.idVk,a=e.id,n=e.name,r=e.rating,o=e.photoURL,l=e.addGroupTop,s="https://vk.com/club"+t;return c.a.createElement(p.h,{className:"card"},c.a.createElement("span",{className:"listNumber"},a),c.a.createElement(p.e,{className:"myItem",before:o?c.a.createElement(p.p,{href:s,target:"_blank"},c.a.createElement(p.c,{src:o})):c.a.createElement(p.c,{src:"https://vk.com/images/camera_200.png"}),description:c.a.createElement(p.h,{className:"divFlexGroups"},c.a.createElement(p.h,{className:"div"},c.a.createElement(O.a,{fill:"red"})),c.a.createElement(p.h,{className:"div",style:{marginLeft:5}},r)),asideContent:c.a.createElement(p.h,{id:a,onClick:l,className:"div"},c.a.createElement(F.a,{fill:"green"}))},c.a.createElement(p.h,{className:"div",style:{marginLeft:10}},n)))},x=function(e){e.id;var t=e.name,a=e.ratingMin,n=e.ratingMax,r=e.pillBlue,o=e.pillRed,l=e.pillGold,s=e.shirt,i=e.cell,m=e.vacation;return c.a.createElement(p.l,{header:c.a.createElement(p.m,{mode:"secondary"},t)},c.a.createElement(p.e,{className:"rankCell",asideContent:"".concat(a," - ").concat(n||1/0)},"\u0448\u0438\u0437\u043e\u0438\u0434"===t.toLowerCase()?c.a.createElement(p.h,{className:"div"},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442."):c.a.createElement(c.a.Fragment,null,c.a.createElement(p.h,{className:"div"},"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0432 \u043d\u0435\u0434\u0435\u043b\u044e:"),r?c.a.createElement(p.h,{className:"div"},"Blue \u043f\u0438\u043b\u044e\u043b\u044c: ",r," \u0448\u0442"):"",o?c.a.createElement(p.h,{className:"div"},"Red \u043f\u0438\u043b\u044e\u043b\u044c: ",o," \u0448\u0442"):"",l?c.a.createElement(p.h,{className:"div"},"Gold \u043f\u0438\u043b\u044e\u043b\u044c: ",l," \u0448\u0442"):"",m?c.a.createElement(p.h,{className:"div"},"\u041e\u0442\u043f\u0443\u0441\u043a\u043e\u0432: ",m," \u0448\u0442"):"",s?c.a.createElement(p.h,{className:"div"},"\u0421\u043c\u0438\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0440\u0443\u0431\u0430\u0448\u0435\u043a: ",s," \u0448\u0442"):"",i?c.a.createElement(p.h,{className:"div"},"\u041e\u0434\u0438\u043d\u043e\u0447\u043d\u044b\u0445 \u043a\u0430\u043c\u0435\u0440: ",i," \u0448\u0442"):"")))},D=a(148),R=a.n(D),_=a(53),B=a.n(_),U=a(84),V=a.n(U),A=(a(304),a(305),function(e){var t=e.id,a=e.name,n=(e.color,e.price),r=e.icon,o=(e.openPay,e.openInfo),l=(e.transfer,e.buyItem,e.openBuyItem),s=e.scheme;return c.a.createElement(B.a,{className:"bright_light"===s?"cardShopBlack":"cardShopGray"},c.a.createElement(R.a,{className:"myItem",before:r,asideContent:c.a.createElement(V.a,{id:t,onClick:l,mode:"tertiary"},"\u043a\u0443\u043f\u0438\u0442\u044c"),description:c.a.createElement(B.a,{className:"div"},c.a.createElement(B.a,{className:"divDescription"},"".concat(n," DurkaCoins")),c.a.createElement(B.a,{className:"div"},c.a.createElement(V.a,{id:t,onClick:o},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")))},a))}),G=a(149),L=a.n(G),z=a(150),H=a.n(z),K=function(e){var t=e.senderId,a=e.targetId,n=e.amount,r=e.createdAt,o=e.formatDate,l=e.fetchedUser,s=e.senderName,i=e.targetName,m=e.senderPhoto,u=e.targetPhoto,d="https://vk.com/id"+a,h="https://vk.com/id"+t,g=new Date(r);return c.a.createElement(c.a.Fragment,null,t===l.id?c.a.createElement(p.h,{className:"card"},c.a.createElement("span",{className:"listNumber"}),c.a.createElement(p.e,{className:"myItem",before:l.photo_200?c.a.createElement(p.p,{href:d,target:"_blank"},c.a.createElement(p.c,{src:u})):c.a.createElement(p.c,{src:"https://vk.com/images/camera_200.png"}),description:c.a.createElement(p.h,{style:{marginLeft:20},className:"div"},c.a.createElement(p.h,{className:"div"},l&&c.a.createElement(p.h,{className:"div",style:{wordWrap:"break-word",marginBottom:5}},i)),c.a.createElement(p.h,{className:"div",style:{color:"red"}},"- ",n," DurkaCoins")),asideContent:c.a.createElement(p.h,{className:"divFormatDate"},o(g))},c.a.createElement(p.h,{className:"divOperationsHistory"},c.a.createElement(p.h,{className:"div"},c.a.createElement(H.a,{fill:"red"})),c.a.createElement(p.h,{className:"div",style:{marginTop:4,marginLeft:4}},"\u041f\u0435\u0440\u0435\u0432\u043e\u0434")))):c.a.createElement(p.h,{className:"card"},c.a.createElement("span",{className:"listNumber"}),c.a.createElement(p.e,{className:"myItem",before:m?c.a.createElement(p.p,{href:h,target:"_blank"},c.a.createElement(p.c,{src:m})):c.a.createElement(p.c,{src:"https://vk.com/images/camera_200.png"}),description:c.a.createElement(p.h,{style:{marginLeft:20},className:"div"},c.a.createElement(p.h,{className:"div"},c.a.createElement(p.h,{className:"div",style:{wordWrap:"break-word",marginBottom:5}},s)),c.a.createElement(p.h,{className:"div",style:{color:"green"}},"+ ",n," DurkaCoins")),asideContent:c.a.createElement(p.h,{className:"divFormatDate"},o(g))},c.a.createElement(p.h,{className:"divOperationsHistory"},c.a.createElement(p.h,{className:"div"},c.a.createElement(L.a,{fill:"green"})),c.a.createElement(p.h,{className:"div"},"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435")))))},M="https://one-digitalspace.ru/durka/",W=a(151),Q=a(152),q=function(){function e(t){Object(W.a)(this,e),this.loggerName=t}return Object(Q.a)(e,[{key:"log",value:function(){for(var e,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];(e=console).log.apply(e,["[".concat(this.loggerName,"]")].concat(a))}}]),e}(),J=new q("VK"),Z=function(e){var t=e.id,a=e.go,r=e.fetchedUser,o=e.tabShop,l=e.tabHome,i=(e.tabTop,e.activeTab),m=(e.dataUsers,e.progressOnChange,e.dispatch,e.state,e.incDec,e.dataShop),u=e.inventoryOpen,h=e.inventory,g=e.dataInventory,E=(e.getUser,e.durkaCoins),f=e.shisoids,b=e.transfer,k=(e.targetId,e.onChangeHandlerId,e.onChangeHandlerAmount,e.amount,e.activeModal,e.openTransfer),N=e.snackbar,j=(e.userPlace,e.rating),O=e.scheme,w=e.openInfo,S=e.buyItem,F=e.openBuyDurkaCoins,P=e.openBuyItem,x=e.$useItem,D=e.targetIdInventory,R=e.openUseItem,_=e.ranks,B=e.goTop,U=e.scrollUp,V=(e.getOperationsHistory,e.networkStatus),G=e.updateConnection,L=e.socketReconnection,z=e.socketReconnect,H=e.connectTwoDevices,K=e.stub,W=e.online,Q=e.setPopout;function q(){var e="https://vk.com/app7351258#".concat(r.id);s.a.send("VKWebAppShare",{link:e})}function Z(){var e="https://vk.com/app7351258#".concat(r.id);s.a.sendPromise("VKWebAppShowStoryBox",{background_type:"image",url:"https://sun9-28.userapi.com/c855732/v855732341/215725/RVJstbppzyk.jpg",attachment:{text:"game",type:"url",url:e}}).then((function(e){!0===e.data.result&&d.a.post("".concat(M,"/story"),{search:document.location.search})})).catch((function(e){J.log("story error:",e)}))}function X(){s.a.send("VKWebAppJoinGroup",{group_id:192779261})}function $(e){e.preventDefault();var t="https://vk.com/app7351258#".concat(r.id);s.a.send("VKWebAppShowWallPostBox",{message:"\u0410 \u0442\u044b \u0443\u0436\u0435 \u0431\u044b\u043b \u0432 \u0414\u0423\u0420\u041a\u0415? \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 - ".concat(t),attachments:"photo73606509_457262018,https://vk.com/app7351258#".concat(r.id)})}function Y(){var e="https://vk.com/app7351258#".concat(r.id);s.a.sendPromise("VKWebAppGetClientVersion").then((function(t){J.log(t.platform),"web"===t.platform||"mobile-web"===t.platform?window.navigator.clipboard.writeText(e).then((function(){J.log("successfully set",e)}),(function(){J.log("write failed",e)})):s.a.send("VKWebAppCopyText",{text:e})})).catch((function(e){J.log(e)}))}Object(n.useEffect)((function(){setTimeout((function(){X()}),5e3)}),[]);var ee=m.map((function(e,t){return c.a.createElement(A,{key:t,id:e.id,name:e.name,price:e.price,icon:e.icon,openInfo:w,transfer:b,buyItem:S,openBuyItem:P,scheme:O})})),te=g.map((function(e,t){return c.a.createElement(I,{key:t,id:e.id,name:e.name,price:e.price,icon:e.icon,count:e.count,openInfo:w,transfer:b,buyItem:S,openBuyItem:P,$useItem:x,targetIdInventory:D,openUseItem:R,scheme:O})}));return c.a.createElement(p.s,{id:t},c.a.createElement(p.t,null,"\u0414\u0423\u0420\u041a\u0410"),H?K("\u0412\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u043b\u0438\u0441\u044c \u0441 2 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 ",z,"\u041f\u0435\u0440\u0435\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f"):c.a.createElement(c.a.Fragment,null,c.a.createElement(p.i,{vertical:"top",filled:!0},c.a.createElement(p.y,null,c.a.createElement(p.z,{onClick:B,"data-to":"top"},"\u0422\u041e\u041f"),c.a.createElement(p.z,{onClick:l,selected:"home"===i},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),c.a.createElement(p.z,{onClick:o,selected:"shop"===i},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"))),V?K("\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 - \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435!",G,"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"):c.a.createElement(c.a.Fragment,null,L?K("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",z,"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"):c.a.createElement(c.a.Fragment,null,j?c.a.createElement(c.a.Fragment,null,"home"===i?c.a.createElement(c.a.Fragment,null,c.a.createElement(p.h,{className:"main"},r&&c.a.createElement(p.h,{className:"div",style:{display:"flex",alignItems:"center",flexDirection:"column"}},c.a.createElement(p.c,{src:r.photo_200,size:100}),c.a.createElement(p.h,{className:"div",style:{marginTop:5}},"".concat(r.first_name," ").concat(r.last_name)))),c.a.createElement(p.h,{className:"mainLeft"},c.a.createElement(p.h,{className:"divPaddingLeft"},c.a.createElement(p.h,{className:"divFlexInfo"},c.a.createElement(C.a,{fill:"green",className:"iconInfo"}),c.a.createElement(p.h,{className:"divInfoRating"},"\u041e\u043d\u043b\u0430\u0439\u043d: ",W)),c.a.createElement(p.h,{className:"divFlexInfo"},c.a.createElement(y.a,{fill:"red",className:"iconInfo"}),c.a.createElement(p.h,{className:"divInfoRating"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",j)),c.a.createElement(p.h,{className:"divFlexInfo"},c.a.createElement(v.a,{onClick:a,"data-to":"rank-info",className:"iconInfo",fill:"#0000FF"}),c.a.createElement(p.h,{className:"divInfoRank"},"\u0417\u0432\u0430\u043d\u0438\u0435: ",T(j,_),c.a.createElement(p.p,{className:"linkInfo",onClick:a,"data-to":"rank-info"},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")))),c.a.createElement(p.h,{className:"divPaddingLeft"},"\u041f\u0440\u0438\u0432\u043b\u0435\u0447\u0435\u043d\u043e \u0448\u0438\u0437\u043e\u0438\u0434\u043e\u0432: ",f),c.a.createElement(p.h,{className:"divPaddingLeft"},"DurkaCoins: ",E)),c.a.createElement(p.h,{className:"divBtn"},c.a.createElement(p.d,{mode:"commerce",size:"xl",stretched:!0,onClick:function(){Q(c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{onClose:function(){return Q(null)}},c.a.createElement(p.b,{autoclose:!0,onClick:q},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441\u0441\u044b\u043b\u043a\u043e\u0439"),c.a.createElement(p.b,{autoclose:!0,onClick:Y},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"),c.a.createElement(p.b,{autoclose:!0,onClick:Z},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"),c.a.createElement(p.b,{autoclose:!0,onClick:$},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u0435\u043d\u0435"))))},className:"bright_light"===O?"btnBlack":"btnGray"},"\u041f\u0440\u0438\u0432\u043b\u0435\u0447\u044c \u0448\u0438\u0437\u043e\u0438\u0434\u043e\u0432"),c.a.createElement(p.h,{className:"flexBtn"},c.a.createElement(p.d,{className:"bright_light"===O?"buttonPaymentBlackLeft":"buttonPaymentGrayLeft",mode:"commerce",onClick:X,size:"xl",stretched:!0},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"),c.a.createElement(p.d,{className:"bright_light"===O?"buttonPaymentBlackRight":"buttonPaymentGrayRight",mode:"commerce",onClick:a,"data-to":"how-it-works",size:"xl",stretched:!0},"\u041f\u0440\u0430\u0432\u0438\u043b\u0430")),c.a.createElement(p.h,{className:"divFlex"},"DurkaCoins"),c.a.createElement(p.h,{className:"flexBtn"},c.a.createElement(p.d,{className:"bright_light"===O?"buttonPaymentBlackLeft":"buttonPaymentGrayLeft",mode:"commerce",onClick:k,size:"xl",stretched:!0},"\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438"),c.a.createElement(p.d,{className:"bright_light"===O?"buttonPaymentBlackRight":"buttonPaymentGrayRight",mode:"commerce",onClick:F,size:"xl",stretched:!0},"\u041a\u0443\u043f\u0438\u0442\u044c")),c.a.createElement(p.d,{mode:"commerce",size:"xl",stretched:!0,onClick:a,"data-to":"operations-history",className:"bright_light"===O?"btnBlackHistoty":"btnGrayHistoty"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439"),c.a.createElement(p.d,{mode:"commerce",size:"xl",stretched:!0,onClick:function(){s.a.send("VKWebAppAddToCommunity",{})},className:"bright_light"===O?"btnBlackHistoty":"btnGrayHistoty"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0433\u0440\u0443\u043f\u043f\u0443"),c.a.createElement(p.h,{className:"mainInventory"},h?c.a.createElement(p.p,{className:"inventory",id:t,onClick:u,mode:"tertiary"},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c"):c.a.createElement(c.a.Fragment,null,c.a.createElement(p.p,{className:"inventory",id:t,onClick:u,mode:"tertiary"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c"),te?c.a.createElement(c.a.Fragment,null,te,c.a.createElement(p.h,null,c.a.createElement(p.p,{id:t,onClick:U,mode:"tertiary"},"\u0412\u0432\u0435\u0440\u0445"))):c.a.createElement(p.h,null,"\u0423 \u0412\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442\u0443 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0438\u0437 ",c.a.createElement(c.a.Fragment,null," "),c.a.createElement(p.p,{id:t,onClick:o,mode:"tertiary"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d\u0430.")))))):"","shop"===i?c.a.createElement(p.h,{className:"shop"},c.a.createElement(p.h,{className:"divShop"},"\u0411\u0430\u043b\u0430\u043d\u0441 DurkaCoins: ",E),ee):"",N):c.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},c.a.createElement(p.x,{size:"large",style:{marginTop:90}}))))))},X=function(e){var t=e.go,a=e.id;return c.a.createElement(p.s,{id:a},c.a.createElement(p.t,{left:c.a.createElement(p.u,{onClick:t,"data-to":"home"})},"\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0414\u0423\u0420\u041a\u0410"),c.a.createElement(p.h,null,c.a.createElement(p.l,{header:c.a.createElement(p.m,{mode:"secondary"},"\u041a\u0430\u043a \u043c\u0430\u0439\u043d\u0438\u0442\u044c DurkaCoins?")},c.a.createElement(p.e,null,"\u0412 \u0433\u0440\u0443\u043f\u043f\u0435 \u043d\u0430\u0448\u0435\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430",c.a.createElement(p.p,{className:"div",href:"https://vk.com/durkacoin",target:"_blank"}," \u0414\u0423\u0420\u041a\u0410 "),'\u043a\u0438\u0434\u0430\u0439\u0442\u0435 \u0432 "\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c" \u0441\u0432\u043e\u0438 \u043c\u0435\u043c\u044b \u0441 \u0414\u0423\u0420\u041a\u041e\u0419 \u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0439\u0442\u0435 \u0437\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043d\u044b\u0439 +10 DurkaCoin. \u041d\u043e\u0432\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043c\u0430\u0439\u043d\u0438\u043d\u0433\u0430 \u0441\u043a\u043e\u0440\u043e \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f, \u043f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430 \u043d\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0438 \u0441\u043b\u0435\u0434\u0438\u0442\u0435 \u0437\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u044f\u043c\u0438 \u043d\u0430 \u0441\u0442\u0435\u043d\u0435',c.a.createElement(p.p,{className:"div",href:"https://vk.com/durkacoin",target:"_blank"}," \u0414\u0423\u0420\u041a\u0418 "))),c.a.createElement(p.l,{header:c.a.createElement(p.m,{mode:"secondary"},"\u041a\u0430\u043a \u043f\u043e\u043f\u0430\u0441\u0442\u044c \u0432 \u0422\u041e\u041f?")},c.a.createElement(p.e,null,"\u0422\u041e\u041f \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0412\u0430\u0448\u0435\u0433\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430. \u0427\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u0435 \u0412\u0430\u0448 \u0440\u0435\u0439\u0442\u0438\u043d\u0433, \u0442\u0435\u043c \u0432\u044b\u0448\u0435 \u0412\u044b \u0432 \u0422\u041e\u041f-\u0435. \u0422\u041e\u041f \u043f\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430\u043c \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0435\u0440\u0435\u0448\u043b\u0438 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u0438\u0437 \u0432\u0430\u0448\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u044b.")),c.a.createElement(p.l,{header:c.a.createElement(p.m,{mode:"secondary"},"\u0414\u043b\u044f \u0447\u0435\u0433\u043e \u043d\u0443\u0436\u0435\u043d DurkaCoin?")},c.a.createElement(p.e,null,'DurkaCoin \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442\u044c \u043b\u044e\u0431\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0438 \u0442\u0440\u0430\u0442\u0438\u0442\u044c \u043d\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0432 "\u041c\u0430\u0433\u0430\u0437\u0438\u043d\u0435". \u0414\u043b\u044f \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u044f \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f \u0432 \u0414\u0423\u0420\u041a\u0415, \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043a\u0443\u043f\u0438\u0442\u044c DurkaCoins \u0437\u0430 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0435\u043d\u044c\u0433\u0438. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e, \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0443 "\u041f\u0440\u043e\u0444\u0438\u043b\u044c" \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u041a\u0443\u043f\u0438\u0442\u044c".')),c.a.createElement(p.l,{header:c.a.createElement(p.m,{mode:"secondary"},"\u0413\u0434\u0435 \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0438\u0437 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430?")},c.a.createElement(p.e,null,'\u0412\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u041f\u0440\u043e\u0444\u0438\u043b\u044c" \u0435\u0441\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0430 "\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c", \u043f\u0440\u0438 \u043a\u043b\u0438\u043a\u0435 \u043d\u0430 \u043d\u0435\u0435 \u0443 \u0412\u0430\u0441 \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u044f\u0442\u0441\u044f \u0432\u0441\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u044b \u043a\u0443\u043f\u0438\u043b\u0438.')),c.a.createElement(p.l,{header:c.a.createElement(p.m,{mode:"secondary"},"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0443\u043f\u043b\u0435\u043d\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432")},c.a.createElement(p.e,null,'\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0435 \u0441\u0432\u043e\u0439 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c, \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442\u0435 \u0442\u043e\u0432\u0430\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438 \u043d\u0430\u0436\u0438\u043c\u0430\u0442\u0435\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c". \u041f\u0438\u043b\u044e\u043b\u0438 \u0438 \u043e\u0442\u043f\u0443\u0441\u043a \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0441\u0435\u0431\u0435. \u0421\u043c\u0438\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0440\u0443\u0431\u0430\u0448\u043a\u0443 \u0438 \u043e\u0434\u0438\u043d\u043e\u0447\u043d\u0443\u044e \u043a\u0430\u043c\u0435\u0440\u0443 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043b\u044e\u0431\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u0414\u0423\u0420\u041a\u0418.')),c.a.createElement(p.l,{header:c.a.createElement(p.m,{mode:"secondary"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439")},c.a.createElement(p.e,null,'\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u0432, \u043a\u043e\u043c\u0443 \u0432\u044b \u043f\u0435\u0440\u0435\u0432\u0435\u043b\u0438 \u0438\u043b\u0438 \u043a\u0442\u043e \u043f\u0435\u0440\u0435\u0432\u0435\u043b \u0432\u0430\u043c DurkaCoin, \u043d\u0443\u0436\u043d\u043e \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u043c \u044d\u043a\u0440\u0430\u043d\u0430 \u043d\u0430\u0436\u0430\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443 "\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439".'))))},$=function(e){var t=e.ranks,a=e.go,n=e.id,r=t.map((function(e){return c.a.createElement(x,{key:e.id,id:e.id,name:e.name,ratingMin:e.ratingMin,ratingMax:e.ratingMax,pillBlue:e.pillBlue,pillRed:e.pillRed,pillGold:e.pillGold,shirt:e.shirt,cell:e.cell,vacation:e.vacation})}));return c.a.createElement(p.s,{id:n},c.a.createElement(p.t,{left:c.a.createElement(p.u,{onClick:a,"data-to":"home"})},"\u0417\u0432\u0430\u043d\u0438\u044f \u0432 \u0414\u0423\u0420\u041a\u0415"),c.a.createElement(p.h,null,c.a.createElement(p.l,{header:c.a.createElement(p.m,{mode:"secondary",aside:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"},"\u0417\u0432\u0430\u043d\u0438\u0435")}),r))},Y=function(e){var t=e.ranks,a=(e.go,e.id),r=e.userPlace,o=e.rating,l=e.goHome,i=e.vk,u=e.networkStatus,h=e.updateConnection,g=e.snackbar,E=e.openAlertPay,f=e.stub,b=e.socketReconnection,v=e.socketReconnect,k=e.connectTwoDevices,N=Object(n.useState)(null),C=Object(m.a)(N,2),I=(C[0],C[1]),j=Object(n.useState)("general"),O=Object(m.a)(j,2),T=O[0],S=O[1],F=Object(n.useState)(null),x=Object(m.a)(F,2),D=x[0],R=x[1],_=Object(n.useState)([]),B=Object(m.a)(_,2),U=B[0],V=B[1],A=Object(n.useState)(!1),G=Object(m.a)(A,2),L=G[0],z=G[1],H=Object(n.useState)(0),K=Object(m.a)(H,2),W=K[0],Q=K[1],q=Object(n.useState)(0),J=Object(m.a)(q,2),Z=J[0],X=J[1],$=[],Y=0;function ee(e){Y=e.currentTarget.id;var t=$[Y-1].id;console.log("urlGroup",t),s.a.sendPromise("VKWebAppJoinGroup",{group_id:t}).then((function(e){e.result&&E("\u0412\u044b \u0443\u0436\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u044b \u043d\u0430 \u044d\u0442\u0443 \u0433\u0440\u0443\u043f\u043f\u0443","green"),console.log("res",e.result)})).catch((function(e){"User can not join this group"===e.error_data.error_reason&&E("\u041f\u043e\u0434\u0430\u0439\u0442\u0435 \u0437\u0430\u044f\u0432\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u0433\u0440\u0443\u043f\u043f\u0443","red"),console.log("err",e)}))}function te(){d.a.post("".concat(M,"/getUsersTop"),{search:document.location.search}).then((function(e){var a=e.data,n=a.status,r=a.message;"success"===n&&Q(r.map((function(e,a){return c.a.createElement(w,{key:a,id:a+1,idVk:e.id,photoURL:e.photoURL,firstName:e.firstName,lastName:e.lastName,rating:e.rating,amount:e.durkaCoins,ranks:t||[]})}))),z(!1)}))}function ae(){d.a.post("".concat(M,"/getGroupsTop"),{search:document.location.search}).then((function(e){var t=e.data,a=t.status,n=t.message;console.log({message:n,status:a}),"success"===a&&($=n,console.log("setGroupsTop",$),X(n.map((function(e,t){return c.a.createElement(P,{key:t,id:t+1,idVk:e.id,photoURL:e.photoURL,name:e.name,rating:e.rating,addGroupTop:ee})})))),z(!1)}))}function ne(){switch(z(!0),T){case"general":te();break;case"friends":ce();break;case"groups":ae()}}function ce(){s.a.sendPromise("VKWebAppGetAuthToken",{scope:"friends",app_id:7351258}).then((function(e){e.access_token&&(I(e.access_token),function(e){s.a.sendPromise("VKWebAppCallAPIMethod",{method:"friends.get",params:{access_token:e,v:"5.103"}}).then((function(e){if(!e.response)return R("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0440\u0443\u0437\u0435\u0439");d.a.post("".concat(M,"/getFriendsTop"),{items:e.response.items,search:document.location.search}).then((function(e){var a=e.data.message;if(!a.length)return R("\u0423 \u0412\u0430\u0441 \u043d\u0435\u0442 \u0434\u0440\u0443\u0437\u0435\u0439 \u0432 \u0438\u0433\u0440\u0435");R(!0),z(!1),V(a.map((function(e,a){return c.a.createElement(w,{key:a,id:a+1,idVk:e.id,photoURL:e.photoURL,firstName:e.firstName,lastName:e.lastName,rating:e.rating,amount:e.durkaCoins,ranks:t||[]})})))}))})).catch((function(e){return R("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0440\u0443\u0437\u0435\u0439")}))}(e.access_token))})).catch((function(e){i.log(e)}))}return Object(n.useEffect)((function(){te(),ae()}),[]),c.a.createElement(p.s,{id:a},c.a.createElement(p.t,{left:c.a.createElement(p.u,{onClick:l,"data-to":"home"})},"\u0422\u043e\u043f"),k?f("\u0412\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u043b\u0438\u0441\u044c \u0441 2 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 ",v,"\u041f\u0435\u0440\u0435\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f"):c.a.createElement(c.a.Fragment,null,c.a.createElement(p.i,{vertical:"top",filled:!0},c.a.createElement(p.y,null,c.a.createElement(p.z,{onClick:function(){S("general"),window.scrollTo(0,0)},selected:"general"===T},"\u041e\u0431\u0449\u0438\u0439"),c.a.createElement(p.z,{onClick:function(){S("friends"),ce(),window.scrollTo(0,0)},selected:"friends"===T},"\u0414\u0440\u0443\u0437\u044c\u044f"),c.a.createElement(p.z,{onClick:function(){S("groups"),window.scrollTo(0,0)},selected:"groups"===T},"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430"))),u?f("\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 - \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435!",h,"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"):c.a.createElement(c.a.Fragment,null,b?f("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",v,"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"):c.a.createElement(c.a.Fragment,null,"general"===T?c.a.createElement(c.a.Fragment,null,W.length?c.a.createElement(c.a.Fragment,null,c.a.createElement(p.h,{className:"headerTop"},"\u0412\u0430\u0448\u0435 \u043c\u0435\u0441\u0442\u043e: ",r,c.a.createElement(c.a.Fragment,null,"\u3000","\u0420\u0435\u0439\u0442\u0438\u043d\u0433:",c.a.createElement(y.a,{className:"SUKA",fill:"red"}),o)),c.a.createElement(p.v,{onRefresh:ne,isFetching:L,style:{marginTop:10}},c.a.createElement(p.h,null,W))):c.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},c.a.createElement(p.x,{size:"large",style:{marginTop:90}}))):"","friends"===T?c.a.createElement("div",{style:{marginTop:40}},null===D?c.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},c.a.createElement(p.x,{size:"large",style:{marginTop:90}})):U.length?c.a.createElement(p.v,{onRefresh:ne,isFetching:L,style:{marginTop:10}},c.a.createElement(p.h,null,U)):c.a.createElement(p.h,null,D)):"","groups"===T?c.a.createElement("div",{style:{marginTop:40}},Z.length?c.a.createElement(p.v,{onRefresh:ne,isFetching:L,style:{marginTop:10}},c.a.createElement(p.h,null,Z)):c.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},c.a.createElement(p.x,{size:"large",style:{marginTop:90}}))):""),g)))},ee=function(e){e.ranks,e.go;var t=e.id,a=(e.userPlace,e.rating,e.goHome),r=(e.groupsTop,e.globalTop,e.vk,e.fetchedUser),o=Object(n.useState)([]),l=Object(m.a)(o,2),s=l[0],i=l[1];function u(e){var t=e.getDate();t<10&&(t="0"+t);var a=e.getMonth()+1;a<10&&(a="0"+a);var n=e.getFullYear()%100;n<10&&(n="0"+n);var c=e.getHours();c<10&&(c="0"+c);var r=e.getMinutes();return r<10&&(r="0"+r),t+"."+a+"."+n+" "+c+":"+r}Object(n.useEffect)((function(){d.a.post("".concat(M,"/getTransfersHistory"),{search:document.location.search}).then((function(e){var t=e.data,a=(t.status,t.message);i(a)})).catch((function(e){console.log(e)}))}),[]);var h=s.map((function(e,t){return c.a.createElement(K,{key:t,senderId:e.senderId,targetId:e.targetId,amount:e.amount,createdAt:e.createdAt,senderName:e.senderName,targetName:e.targetName,senderPhoto:e.senderPhoto,targetPhoto:e.targetPhoto,formatDate:u,fetchedUser:r})}));return c.a.createElement(p.s,{id:t},c.a.createElement(p.t,{left:c.a.createElement(p.u,{onClick:a,"data-to":"home"})},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439"),s?c.a.createElement(p.h,null,h):c.a.createElement(p.h,{style:{marginLeft:30}},"\u0423 \u0432\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442\u0443 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438."))},te=a(153),ae=a.n(te),ne=a(154),ce=a.n(ne),re=a(155),oe=a.n(re),le=[{id:1,name:"Blue \u043f\u0438\u043b\u044e\u043b\u044f",price:50,icon:c.a.createElement(g.a,{fill:"blue"}),rating:50},{id:2,name:"Red \u043f\u0438\u043b\u044e\u043b\u044f",price:250,icon:c.a.createElement(g.a,{fill:"red"}),rating:300},{id:3,name:"Gold \u043f\u0438\u043b\u044e\u043b\u044f",price:500,icon:c.a.createElement(g.a,{fill:"orange"}),rating:700},{id:4,name:"\u041e\u0442\u043f\u0443\u0441\u043a",price:50,icon:c.a.createElement(ce.a,{fill:"black"}),time:"8 \u0447\u0430\u0441\u043e\u0432"},{id:5,name:"\u0421\u043c\u0438\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0440\u0443\u0431\u0430\u0448\u043a\u0430",price:25,icon:c.a.createElement(oe.a,{fill:"black"}),rating:50},{id:6,name:"\u041e\u0434\u0438\u043d\u043e\u0447\u043d\u0430\u044f \u043a\u0430\u043c\u0435\u0440\u0430",price:250,icon:c.a.createElement(ae.a,{fill:"black"}),rating:250},{id:7,name:"\u0422\u0415\u0421\u0422",price:999999999,icon:c.a.createElement(p.h,{className:"icon"}),rating:99999999}],se=a(156),ie=a.n(se)()("https://one-digitalspace.ru",{path:"/durka/socket",query:document.location.search.slice(1),transports:["websocket"],reconnectionAttempts:1}),me=new q("VK"),ue=new q("API"),de=new q("socket"),pe=function(){var e=0,t=0,a=0,r=0,o=window.navigator.onLine,l=Object(n.useState)("bright_light"),u=Object(m.a)(l,2),h=u[0],E=u[1],b=Object(n.useState)([]),v=Object(m.a)(b,2),k=v[0],y=v[1],N=Object(n.useState)(),C=Object(m.a)(N,2),I=C[0],j=C[1],O=Object(n.useState)(0),T=Object(m.a)(O,2),w=T[0],S=T[1],F=Object(n.useState)(le),P=Object(m.a)(F,2),x=P[0],D=(P[1],Object(n.useState)()),R=Object(m.a)(D,2),_=R[0],B=(R[1],Object(n.useState)(0)),U=Object(m.a)(B,2),V=U[0],A=U[1],G=Object(n.useState)(null),L=Object(m.a)(G,2),z=L[0],H=L[1],K=Object(n.useState)(0),W=Object(m.a)(K,2),Q=W[0],q=W[1],J=Object(n.useState)(null),te=Object(m.a)(J,2),ae=te[0],ne=te[1],ce=Object(n.useState)([]),re=Object(m.a)(ce,2),oe=re[0],se=re[1],pe=Object(n.useState)(0),he=Object(m.a)(pe,2),ge=he[0],Ee=he[1],fe=Object(n.useState)(!0),be=Object(m.a)(fe,2),ve=be[0],ke=be[1],ye=Object(n.useState)("home"),Ne=Object(m.a)(ye,2),Ce=Ne[0],Ie=Ne[1],je=Object(n.useState)(""),Oe=Object(m.a)(je,2),Te=Oe[0],we=Oe[1],Se=Object(n.useState)(null),Fe=Object(m.a)(Se,2),Pe=Fe[0],xe=Fe[1],De=Object(n.useState)("home"),Re=Object(m.a)(De,2),_e=Re[0],Be=Re[1],Ue=Object(n.useState)(!1),Ve=Object(m.a)(Ue,2),Ae=Ve[0],Ge=Ve[1],Le=Object(n.useState)([]),ze=Object(m.a)(Le,2),He=ze[0],Ke=ze[1],Me=Object(n.useState)([]),We=Object(m.a)(Me,2),Qe=We[0],qe=We[1],Je=Object(n.useState)([]),Ze=Object(m.a)(Je,2),Xe=Ze[0],$e=Ze[1],Ye=Object(n.useState)(!1),et=Object(m.a)(Ye,2),tt=et[0],at=et[1],nt=Object(n.useState)(!1),ct=Object(m.a)(nt,2),rt=ct[0],ot=ct[1],lt=Object(n.useState)(!1),st=Object(m.a)(lt,2),it=st[0],mt=st[1],ut=Object(n.useState)([{id:1,name:"Blue \u043f\u0438\u043b\u044e\u043b\u044f",price:50,count:1,icon:c.a.createElement(g.a,{fill:"blue"})}]),dt=Object(m.a)(ut,2),pt=dt[0],ht=dt[1],gt=function(e){Ge(!e)};function Et(){at(!1),ot(!1),ie.open()}Object(n.useEffect)((function(){Ge(!o)})),Object(n.useEffect)((function(){window.addEventListener("popstate",(function(e){return e.preventDefault()&(Be("home"),void Ie("home"))}))}),[]),Object(n.useEffect)((function(){s.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var c=document.createAttribute("scheme");c.value=n.scheme?n.scheme:"bright_light",document.body.attributes.setNamedItem(c),E(n.scheme)}}))}),[]),Object(n.useEffect)((function(){ie.on("reconnect_failed",(function(){S(0),at(!0)})),ie.on("alreadyConnected",(function(){S(0),ot(!0),ie.disconnect()})),ie.on("online",mt),ie.on("ranks",(function(e){!function(){var e=window.location.hash;if(!e||Number.isNaN(+e.replace("#","")))return;var t=Number(e.replace("#",""));d.a.post("".concat(M,"/addShisoid"),{referrerId:t,search:document.location.search}).then((function(e){ue.log("addShisoid",e.data)})).catch((function(e){ue.log("addShisoid",e)}))}(),y(e),de.log("$ranks ",e)})),ie.on("user",(function(e){de.log("user:",e),Ee(e.durkaCoins),A(e.shisoids.length),S(e.rating);var t=[];e.inventory||(e.inventory={});for(var a=function(){var e=Object(m.a)(c[n],2),a=e[0],r=e[1],o=le.find((function(e){return e.id===Number(a)}));o&&t.push(Object(i.a)({},o,{count:r}))},n=0,c=Object.entries(e.inventory);n<c.length;n++)a();ht(t)})),ie.on("tops",(function(e){var t=e.globalTop,a=e.friendsTop,n=e.groupsTop;Ke(n),qe(t),$e(a)})),ie.on("users",se),ie.on("userPlace",q),ie.on("payment",(function(e){var t=e.type,a=e.durkaCoins,n=e.amount,r=e.senderId,o=e.targetId,l=e.senderName;de.log("payment",{type:t,durkaCoins:a,amount:n,senderId:r,targetId:o,senderName:l}),Ee(a),"out"===t?(Ot("\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d!"),xe(null)):"in"===t&&Ot(c.a.createElement("span",null,c.a.createElement("a",{href:"https://vk.com/id".concat(r),target:"_blank"},l)," \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b \u0412\u0430\u043c ".concat(n," DurkaCoins")))})),ie.on("externalImpact",(function(e){var t=e.senderId,a=e.itemName,n=e.rating,r=e.senderName,o=e.minusRating;Ot(c.a.createElement("span",null,c.a.createElement("a",{href:"https://vk.com/id".concat(t),target:"_blank"},r)," \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b \u043d\u0430 \u0412\u0430\u0441 \u043f\u0440\u0435\u0434\u043c\u0435\u0442 '".concat(a,"' \u0438\u0437-\u0437\u0430 \u0447\u0435\u0433\u043e \u0412\u044b \u043f\u043e\u0442\u0435\u0440\u044f\u043b\u0438 ").concat(o," \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430")),"red"),S(n)})),ie.on("successVKPayTransaction",(function(e){var t=e.durkaCoins,a=e.plusDurkaCoins,n=e.rubles;de.log("successVKPayTransaction",t),Ot(c.a.createElement("span",null,"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043a\u0443\u043f\u0438\u043b\u0438 ".concat(a," DurkaCoins \u0437\u0430 ").concat(n," \u0440."))),Ee(t)})),s.a.send("VKWebAppGetUserInfo").then(ne),s.a.sendPromise("VKWebAppGetClientVersion").then((function(e){"ios"===e.platform&&we("ios")})).catch(me.log)}),[]);var ft=function(e,t,a){return c.a.createElement(p.h,{className:"divSpinner"},c.a.createElement(p.h,{className:"div"},e),t?c.a.createElement(p.h,{className:"div"},c.a.createElement(p.f,{onClick:t},a)):"")};function bt(){window.QiwiCheckout.createInvoice({publicKey:"48e7qUxn9T7RyYE1MVZswX1FRSbE6iyCj2gCRwwF3Dnh5XrasNTx3BGPiMsyXQFNKQhvukniQG8RTVhYm3iPuaYVi5RBePrfT1bReScJaiVSaSRm3C2n7ojMWhn6FwadkMSHfVa9GEQaH6vxb8khX6TUwvZUBhqfgBNSx5zTnEf5LxBvmue1CEXUZkF1Z",amount:.2*e,comment:"durkacoins ".concat(ae.id)}).then((function(e){console.log("qiwi",e)})).catch((function(e){console.log("QIWI ERROR:",e)}))}function vt(e){var a=e.target.value.trim();t=a}function kt(t){var a=t.target.value.trim();e=+a,a<0&&(e=+a)}function yt(t){var a=t.target.value.trim();e=+t.target.value,document.querySelector("#toPay").innerHTML=a<5?"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430 5 DurkaCoins":"\u041a \u043e\u043f\u043b\u0430\u0442\u0435: ".concat((.2*t.target.value).toFixed(2)," \u0440\u0443\u0431")}function Nt(){s.a.sendPromise("VKWebAppOpenPayForm",{app_id:7351258,action:"pay-to-group",params:{amount:Number((.2*e).toFixed(2)),group_id:192779261}}).catch((function(e){console.log(e)}))}function Ct(e,t){d.a.post("".concat(M,"/buyItem"),{search:document.location.search,itemId:Number(e),count:t}).then((function(e){var t=e.data,a=t.status,n=t.message;ue.log("buyItem",{status:a,message:n}),xe(null),"denied"===a?Ot("\u0423 \u0412\u0430\u0441 \u043d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u0441\u0440\u0435\u0434\u0441\u0442\u0432","red"):Ot("\u041f\u043e\u043a\u0443\u043f\u043a\u0430 \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e")})).catch((function(e){ue.log("buyItem",e)}))}function It(e){var a=null;e>4&&(a=t),d.a.post("".concat(M,"/useItem"),{search:document.location.search,itemId:Number(e),targetUserId:a}).then((function(e){var t=e.data,a=t.status,n=t.message;xe(null),Ot(n,"success"===a?"green":"red")})).catch((function(e){return ue.log(e)}))}function jt(){d.a.post("".concat(M,"/sendDurkaCoins"),{search:document.location.search,targetId:t,amount:e}).then((function(a){var n=a.data,c=n.status,r=n.message;ue.log("sendDurkaCoins",{status:c,message:r}),"success"===c&&(e=0,t=0)})).catch((function(e){return ue.log(e)}))}function Ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"green";z||H(c.a.createElement(p.w,{duration:"7000",layout:"horizontal",onClose:function(){return H(null)},before:c.a.createElement(p.c,{size:24,style:{backgroundColor:t}},c.a.createElement(f.a,{fill:"#fff",width:14,height:14}))},e))}var Tt=function(e){Be(e.currentTarget.dataset.to),window.history.pushState({panel:e.currentTarget.dataset.to},"".concat(e.currentTarget.dataset.to))},wt=function(e){Be(e.currentTarget.dataset.to),Ie("home"),window.history.pushState({panel:e.currentTarget.dataset.to},"".concat(e.currentTarget.dataset.to))};return c.a.createElement(p.g,{isWebView:!0,scheme:h},c.a.createElement(p.A,{activePanel:_e,popout:I,modal:Pe},c.a.createElement(Z,{id:"home",fetchedUser:ae,go:Tt,goTop:function(e){Be(e.currentTarget.dataset.to),window.history.pushState({panel:e.currentTarget.dataset.to},"".concat(e.currentTarget.dataset.to))},tabShop:function(){Ie("shop"),window.scrollTo(0,0)},tabHome:function(){Ie("home")},tabTop:function(){Ie("top")},activeTab:Ce,dataUsers:oe,getPlatform:Te,setPopout:j,dataShop:x,inventoryOpen:function(){ke(!ve),setTimeout((function(){window.scrollTo({top:3e3,behavior:"smooth"})}),250)},inventory:ve,dataInventory:pt,transfer:jt,targetId:t,targetIdShop:a,onChangeHandlerId:vt,onChangeHandlerAmount:kt,shisoids:V,durkaCoins:ge,amount:e,openTransfer:function(){xe(c.a.createElement(p.r,{activeModal:"transfer"},c.a.createElement(p.q,{id:"transfer",onClose:function(){return xe(null)},icon:c.a.createElement(p.c,{size:72,src:"https://sun9-50.userapi.com/c857036/v857036390/aa9a0/i-iQZ4973FQ.jpg"}),header:"\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 DurkaCoins",caption:c.a.createElement(c.a.Fragment,null,c.a.createElement(p.j,null,c.a.createElement(p.o,{top:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f",placeholder:"https://vk.com/durkacoin",onChange:vt,type:"text"}),c.a.createElement(p.k,{top:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e DurkaCoins"},c.a.createElement(p.o,{onChange:kt,placeholder:"10",type:"number"})))),actions:[{title:"\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438",mode:"commerce",action:function(){jt()}}]})))},snackbar:z,userPlace:Q,rating:w,shopInfo:_,scheme:h,openInfo:function(e){a=e.currentTarget.id;var t=x[a-1],n=t.icon,r=t.name,o=t.rating,l=t.time;xe(c.a.createElement(p.r,{activeModal:"info"},c.a.createElement(p.q,{id:"info",onClose:function(){return xe(null)},icon:n,header:r,caption:c.a.createElement(c.a.Fragment,null,a>=1&&a<=3?c.a.createElement(c.a.Fragment,null,c.a.createElement(p.n,null,r," - \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +",o," \u043a \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443.")):"\u041e\u0442\u043f\u0443\u0441\u043a"===r?c.a.createElement(c.a.Fragment,null,c.a.createElement(p.n,null,r," - \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0432\u0430\u043c \u043e\u0442\u043f\u0443\u0441\u043a \u043d\u0430 ",l,", \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u044d\u0442\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u043d\u0438, \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u0432\u0430\u0441 '\u0441\u043c\u0438\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0440\u0443\u0431\u0430\u0448\u043a\u0443' \u0438\u043b\u0438 '\u043e\u0434\u0438\u043d\u043e\u0447\u043d\u0443\u044e \u043a\u0430\u043c\u0435\u0440\u0443'")):"\u0421\u043c\u0438\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0440\u0443\u0431\u0430\u0448\u043a\u0430"===r?c.a.createElement(c.a.Fragment,null,c.a.createElement(p.n,null,r," - \u043e\u0442\u043d\u0438\u043c\u0430\u0435\u0442 ",o," \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0443 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u0414\u0423\u0420\u041a\u0418")):"\u041e\u0434\u0438\u043d\u043e\u0447\u043d\u0430\u044f \u043a\u0430\u043c\u0435\u0440\u0430"===r?c.a.createElement(c.a.Fragment,null,c.a.createElement(p.n,null,r," - \u043e\u0442\u043d\u0438\u043c\u0430\u0435\u0442 ",o," \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0443 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u0414\u0423\u0420\u041a\u0418.")):"")})))},buyItem:Ct,openBuyDurkaCoins:function(){xe(c.a.createElement(p.r,{activeModal:"buy-durkacoins"},c.a.createElement(p.q,{id:"buy-durkacoins",onClose:function(){return xe(null)},icon:c.a.createElement(p.c,{size:72,src:"https://sun9-50.userapi.com/c857036/v857036390/aa9a0/i-iQZ4973FQ.jpg"}),header:"\u041a\u0443\u043f\u0438\u0442\u044c DurkaCoins",caption:c.a.createElement(c.a.Fragment,null,c.a.createElement(p.j,null,c.a.createElement(p.o,{top:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e DuraCoins",placeholder:"5",onChange:yt,type:"number"})),c.a.createElement(p.n,{id:"toPay"},"\u041a \u043e\u043f\u043b\u0430\u0442\u0435: 0 \u0440\u0443\u0431")),actions:[{title:"\u041a\u0443\u043f\u0438\u0442\u044c",mode:"commerce",onChange:{onChangeHandlerAmount:kt},action:function(){e<5?(xe(null),Ot("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430 5 DurkaCoins","red")):(xe(null),j(c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{onClose:function(){return j(null)}},c.a.createElement(p.b,{autoclose:!0,onClick:bt},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 QIWI"),c.a.createElement(p.b,{autoclose:!0,onClick:Nt},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 VK Pay")))))}}]})))},openBuyItem:function(t){a=t.currentTarget.id;var n=x[a-1],r=n.icon,o=n.name,l=n.rating,s=n.time;xe(c.a.createElement(p.r,{activeModal:"info"},c.a.createElement(p.q,{id:"info",onClose:function(){return xe(null)},icon:r,header:o,caption:c.a.createElement(c.a.Fragment,null,a>=1&&a<=3?c.a.createElement(c.a.Fragment,null,c.a.createElement(p.n,null,o," - \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +",l," \u043a \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443."),c.a.createElement(p.j,null,c.a.createElement(p.o,{top:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e ".concat(o),placeholder:"1",onChange:kt,type:"number"}))):"\u041e\u0442\u043f\u0443\u0441\u043a"===o?c.a.createElement(c.a.Fragment,null,c.a.createElement(p.n,null,o," - \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0432\u0430\u043c \u043e\u0442\u043f\u0443\u0441\u043a \u043d\u0430 ",s,", \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u044d\u0442\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u043d\u0438, \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u0432\u0430\u0441 '\u0441\u043c\u0438\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0440\u0443\u0431\u0430\u0448\u043a\u0443' \u0438\u043b\u0438 '\u043e\u0434\u0438\u043d\u043e\u0447\u043d\u0443\u044e \u043a\u0430\u043c\u0435\u0440\u0443'"),c.a.createElement(p.j,null,c.a.createElement(p.o,{top:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e ".concat(o),placeholder:"1",onChange:kt,type:"number"}))):"\u0421\u043c\u0438\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0440\u0443\u0431\u0430\u0448\u043a\u0430"===o?c.a.createElement(c.a.Fragment,null,c.a.createElement(p.n,null,o," - \u043e\u0442\u043d\u0438\u043c\u0430\u0435\u0442 ",l," \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0443 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u0414\u0423\u0420\u041a\u0418"),c.a.createElement(p.j,null,c.a.createElement(p.o,{top:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e ".concat(o),placeholder:"1",onChange:kt,type:"number"}))):"\u041e\u0434\u0438\u043d\u043e\u0447\u043d\u0430\u044f \u043a\u0430\u043c\u0435\u0440\u0430"===o?c.a.createElement(c.a.Fragment,null,c.a.createElement(p.n,null,o," - \u043e\u0442\u043d\u0438\u043c\u0430\u0435\u0442 ",l," \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0443 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u0414\u0423\u0420\u041a\u0418."),c.a.createElement(p.j,null,c.a.createElement(p.o,{top:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e ".concat(o),placeholder:"1",onChange:kt,type:"number"}))):""),actions:[{title:"\u041a\u0443\u043f\u0438\u0442\u044c",mode:"commerce",action:function(){Ct(a,e)}}]})))},$useItem:It,targetIdInventory:r,openUseItem:function(e){r=e.currentTarget.id;var t=x[r-1].icon,a=x[r-1].name;r>4?xe(c.a.createElement(p.r,{activeModal:"use-item"},c.a.createElement(p.q,{id:"use-item",onClose:function(){return xe(null)},icon:t,header:a,caption:c.a.createElement(c.a.Fragment,null,c.a.createElement(p.j,null,c.a.createElement(p.o,{top:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",placeholder:"https://vk.com/durkacoin",onChange:vt,type:"text"}))),actions:[{title:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c",mode:"commerce",action:function(){It(r)}}]}))):It(r)},ranks:k,scrollUp:function(){window.scrollTo({top:0,behavior:"smooth"})},networkStatus:Ae,updateConnection:gt,socketReconnection:tt,socketReconnect:Et,connectTwoDevices:rt,stub:ft,online:it}),c.a.createElement(X,{id:"how-it-works",go:Tt}),c.a.createElement($,{id:"rank-info",go:Tt,ranks:k}),c.a.createElement(Y,{id:"top",go:Tt,ranks:k,userPlace:Q,rating:w,dataUsers:oe,goHome:wt,groupsTop:He,globalTop:Qe,friendsTop:Xe,vk:me,updateConnection:gt,networkStatus:Ae,snackbar:z,setGroupsTop:Ke,setGlobalTop:qe,openAlertPay:Ot,stub:ft,connectTwoDevices:rt,socketReconnection:tt,socketReconnect:Et}),c.a.createElement(ee,{id:"operations-history",go:Tt,ranks:k,userPlace:Q,rating:w,goHome:wt,vk:me,fetchedUser:ae})))};s.a.send("VKWebAppInit"),o.a.render(c.a.createElement(pe,null),document.getElementById("root"))}},[[199,1,2]]]);
//# sourceMappingURL=main.a28d1994.chunk.js.map