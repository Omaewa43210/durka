(window.webpackJsonpdurka=window.webpackJsonpdurka||[]).push([[0],{123:function(e,a,t){e.exports=t(240)},240:function(e,a,t){"use strict";t.r(a);t(124),t(150),t(152),t(153),t(155),t(156),t(157),t(158),t(159),t(160),t(161),t(162),t(164),t(165),t(166),t(167),t(168),t(169),t(170),t(171),t(172),t(173),t(175),t(176),t(177),t(178),t(179),t(180),t(181),t(182),t(183),t(184),t(185),t(186),t(187),t(188),t(189),t(190),t(191),t(192);var n=t(0),c=t.n(n),o=t(77),r=t.n(o),s=t(19),l=t.n(s),i=t(50),m=t.n(i),u=t(80),p=t(20),d={debug:!0};var f=function(e){return(d.debug?"https://localhost:10888/":"https://random-cinema.tk/api/")+e},h=t(115),b=t.n(h),E=t(79),g=t.n(E),k=(t(218),t(81)),v=t.n(k),y=t(43),w=t.n(y),O=t(57),S=t.n(O),j=t(116),C=t.n(j),N=t(117),_=t.n(N),V=t(118),x=t.n(V),P=t(119),I=t.n(P),T=t(120),R=t.n(T),U=t(47),W=t.n(U),A=t(45),B=t.n(A),F=t(17),G=t.n(F),K=t(46),D=t.n(K),Q=t(121),q=t.n(Q),H=t(122),X=t.n(H),Z=t(58),z=t.n(Z),M=(t(71),t(78)),J=t.n(M),L=function(e){var a=e.id,t=e.first_name,n=e.last_name,o=e.avatar,r="https://vk.com/id"+e.idVk;return c.a.createElement(G.a,{className:"card"},c.a.createElement("span",{className:"listNumber"},a),c.a.createElement(J.a,{href:r},c.a.createElement(B.a,{className:"myItem",before:o?c.a.createElement(D.a,{src:o}):c.a.createElement(D.a,{src:"https://vk.com/images/camera_200.png"})},t+" "+n)))},Y=function(e){var a=e.id,t=e.name,n=(e.color,e.price),o=e.icon,r=e.openPay;return c.a.createElement(G.a,{className:"card"},c.a.createElement("span",{className:"listNumber"},a),c.a.createElement(B.a,{className:"myItem",before:o},t+" - "+n+" DCoin"),c.a.createElement(W.a,{id:a,onClick:r,mode:"tertiary"},"\u043a\u0443\u043f\u0438\u0442\u044c"))},$=function(e){var a=e.id,t=(e.go,e.fetchedUser),n=e.tabShop,o=e.tabHome,r=e.tabTop,s=e.activeTab,l=e.dataUsers,i=(e.progressOnChange,e.dispatch,e.state,e.story,e.addGroup),m=(e.incDec,e.amount),u=e.openBase,p=e.dataShop,d=e.openPay,f=l.map((function(e){return c.a.createElement(L,{key:e.id,id:e.id,idVk:e.idVk,avatar:e.avatar,first_name:e.first_name,last_name:e.last_name})})),h=p.map((function(e){return c.a.createElement(Y,{key:e.id,id:e.id,name:e.name,price:e.price,icon:e.icon,openPay:d})}));return c.a.createElement(I.a,{id:a},c.a.createElement(R.a,null,"\u0414\u0423\u0420\u041a\u0410"),c.a.createElement(q.a,{vertical:"top"},c.a.createElement(X.a,{className:"TabsDefaultUser"},c.a.createElement(z.a,{onClick:r,selected:"top"===s},"\u0422\u041e\u041f"),c.a.createElement(z.a,{onClick:o,selected:"home"===s},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),c.a.createElement(z.a,{onClick:n,selected:"shop"===s},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"))),"top"===s?c.a.createElement(G.a,{className:"top"},f):"","home"===s?c.a.createElement(c.a.Fragment,null,c.a.createElement(G.a,{className:"main"},t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(B.a,{before:t.photo_200?c.a.createElement(D.a,{src:t.photo_200,size:120}):null}),c.a.createElement(G.a,null,"".concat(t.first_name," ").concat(t.last_name," ","(\u0428\u0438\u0437\u043e\u0438\u0434)"))),c.a.createElement(G.a,{className:"flexStart"},c.a.createElement(G.a,{className:"divPadding"},"\u041f\u0440\u0438\u0432\u043b\u0435\u0447\u0435\u043d\u043e : ",m," \u0448\u0438\u0437\u043e\u0438\u0434\u043e\u0432"),c.a.createElement(G.a,{className:"divPadding"},"\u0411\u0430\u043b\u0430\u043d\u0441 : ",m," DurkaCoin")),c.a.createElement(W.a,{mode:"commerce",size:"xl",stretched:!0,onClick:u},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"),c.a.createElement(W.a,{className:"buttonAddGroup",mode:"secondary",onClick:i,size:"xl",stretched:!0},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043d\u0430\u0448\u0443 \u0433\u0440\u0443\u043f\u043f\u0443"))):"","shop"===s?c.a.createElement(G.a,{className:"top"},h):"")},ee=function(){var e=window.navigator.onLine,a=Object(n.useState)("home"),t=Object(p.a)(a,2),o=t[0],r=t[1],s=Object(n.useState)(null),i=Object(p.a)(s,2),d=i[0],h=i[1],E=Object(n.useState)("home"),k=Object(p.a)(E,2),y=k[0],O=k[1],j=Object(n.useState)(!1),N=Object(p.a)(j,2),V=(N[0],N[1]),P=Object(n.useState)(),I=Object(p.a)(P,2),T=I[0],R=I[1],U=Object(n.useState)(""),W=Object(p.a)(U,2),A=W[0],B=W[1],F=Object(n.useState)(!1),G=Object(p.a)(F,2),K=(G[0],G[1]),D=0,Q=Object(n.useState)([{id:1,idVk:333333333,avatar:"https://vk.com/images/camera_200.png",first_name:"\u041a\u0438\u0440\u0438\u043b\u043b",last_name:"\u0410\u043d\u0434\u0440\u0435\u0435\u0432"},{id:2,idVk:9999999999,avatar:"https://vk.com/images/camera_200.png",first_name:"\u0418\u0433\u043e\u0440\u044c",last_name:"\u041a\u0430\u0440\u0430\u0436\u0430"}]),q=Object(p.a)(Q,2),H=q[0],X=(q[1],Object(n.useState)([{id:1,name:"Blue \u043f\u0438\u043b\u044e\u043b\u044f\t",price:50,icon:c.a.createElement(S.a,{fill:"blue"})},{id:2,name:"Red \u043f\u0438\u043b\u044e\u043b\u044f",price:500,icon:c.a.createElement(S.a,{fill:"red"})},{id:3,name:"Gold \u043f\u0438\u043b\u044e\u043b\u044f",price:5e3,icon:c.a.createElement(S.a,{fill:"orange"})},{id:4,name:"\u041e\u0442\u043f\u0443\u0441\u043a",price:50,icon:c.a.createElement(_.a,{fill:"black"})},{id:5,name:"\u0421\u043c\u0438\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0440\u0443\u0431\u0430\u0448\u043a\u0430",price:50,icon:c.a.createElement(C.a,{fill:"black"})},{id:6,name:"\u041e\u0434\u0438\u043d\u043e\u0447\u043d\u0430\u044f \u043a\u0430\u043c\u0435\u0440\u0430",price:500,icon:c.a.createElement(x.a,{fill:"black"})}])),Z=Object(p.a)(X,2),z=Z[0];Z[1];Object(n.useEffect)((function(){e?(V(!1),console.log("checkNetworkStatus",e)):(V(!0),console.log("checkNetworkStatus",e)),console.log("dataUsers:",H)}),[e]),Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.send("VKWebAppGetUserInfo");case 2:a=e.sent,h(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l.a.subscribe((function(e){var a=e.detail,t=a.type,n=a.data;if("VKWebAppUpdateConfig"===t){var c=document.createAttribute("scheme");c.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(c)}})),l.a.sendPromise("VKWebAppGetClientVersion").then((function(e){"ios"===e.platform&&B("ios")})).catch((function(e){console.log(e)})),function(){e.apply(this,arguments)}()}),[]);var M=Object(n.useState)(0),J=Object(p.a)(M,2),L=J[0],Y=J[1];function ee(){l.a.sendPromise("VKWebAppShowStoryBox",{background_type:"image",url:"https://sun1-89.userapi.com/HoZMa0ZNNFflt4SDnoomx0bNiCmRV-bOhbz3qw/hg7IHG1XIvg.jpg",attachment:{text:"go_to",type:"url",url:"https://vk.com/app7351258"}}).then((function(e){console.log("story res:",e)})).catch((function(e){console.log("story error:",e)}))}function ae(e){var a=.2*z[D-1].price;l.a.sendPromise("VKWebAppOpenPayForm",{app_id:7351258,action:"pay-to-group",params:{amount:a,group_id:192779261}}).then(function(){var e=Object(u.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.status&&!a.result.status){e.next=10;break}return e.prev=1,e.next=4,b.a.get(f("checkTransaction?userId=".concat(d.id)));case 4:"success"===e.sent.data.status&&(K(!0),console.log("\u041e\u041f\u041b\u0410\u0422\u0410 \u041f\u0420\u041e\u0428\u041b\u0410 1")),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}function te(e){e.preventDefault();l.a.send("VKWebAppShowWallPostBox",{message:"\u0410 \u0442\u044b \u0443\u0436\u0435 \u0431\u044b\u043b \u0432 \u0414\u0423\u0420\u041a\u0415? \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 - ".concat("https://vk.com/app7351258"),attachments:"photo-192779261_457239018,https://vk.com/app7351258"})}function ne(){window.navigator.clipboard.writeText("Copy link dsfsdfsdfsdf!").then((function(){console.log("successfully set")}),(function(){console.log("write failed")}))}document.qiwiPay=function(){console.log("\u0412\u044b\u0437\u0432\u0430\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f qiwiPay");var e=.2*z[D-1].price;window.QiwiCheckout.createInvoice({publicKey:"48e7qUxn9T7RyYE1MVZswX1FRSbE6iyCj2gCRwwF3Dnh5XrasNTx3BGPiMsyXQFNKQhvukniQG8RTVhYm3iPuaYVi5RBePrfT1bReScJaiVSaSRm3C2n7ojMWhn6FwadkMSHfVa9GEQaH6vxb8khX6TUwvZUBhqfgBNSx5zTnEf5LxBvmue1CEXUZkF1Z",amount:e,phone:"79625494201"}).then((function(e){alert(e),console.log("QIWI RESOLVE",e)})).catch((function(e){console.log("QIWI ERROR:",e)}))};return c.a.createElement(g.a,{activePanel:o,popout:T},c.a.createElement($,{id:"home",fetchedUser:d,go:function(e){r(e.currentTarget.dataset.to)},tabShop:function(){O("shop")},tabHome:function(){O("home")},tabTop:function(){O("top")},activeTab:y,dataUsers:H,getPlatform:A,progressOnChange:function(e){Y(e.target.value),console.log("amount :",L)},story:ee,addGroup:function e(){l.a.send("VKWebAppJoinGroup",{group_id:192779261}),console.log("\u0432\u044b\u0437\u0432\u0430\u043b\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044e.:",e)},incDec:function(e){"increment"===e.type?Y(L<100?L+10:L+0):Y(0===L?L:L-10)},amount:L,openBase:function e(){console.log("\u0432\u044b\u0437\u0432\u0430\u043b\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044e",e),R(c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{onClose:function(){return R(null)}},c.a.createElement(w.a,{autoclose:!0,onClick:ne},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"),c.a.createElement(w.a,{autoclose:!0,onClick:ee},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"),c.a.createElement(w.a,{autoclose:!0,onClick:te},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u0435\u043d\u0435"))))},dataShop:z,openPay:function(e){D=e.currentTarget.id,console.log("VALUE targetId",D);var a=.2*z[D-1].price;console.log("priceItem1",a),R(c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{onClose:function(){return R(null)}},c.a.createElement(w.a,{autoclose:!0},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c DurkaCoin"),c.a.createElement(w.a,{autoclose:!0,onClick:document.qiwiPay},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 QIWI"),c.a.createElement(w.a,{autoclose:!0,onClick:ae},"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 VK Pay"))))}}))};l.a.send("VKWebAppInit"),r.a.render(c.a.createElement(ee,null),document.getElementById("root"))},71:function(e,a,t){}},[[123,1,2]]]);
//# sourceMappingURL=main.8a54b476.chunk.js.map