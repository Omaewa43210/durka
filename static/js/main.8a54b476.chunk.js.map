{"version":3,"sources":["config.js","helpers/requestMethod.js","panels/ListUsers.js","panels/Shop.js","panels/Home.js","App.js","index.js"],"names":["config","debug","requestMethod","method","ListUsers","id","first_name","last_name","avatar","urlUser","idVk","className","href","before","src","ListUsersExpect","name","price","color","icon","openPay","onClick","mode","Home","fetchedUser","go","tabShop","tabHome","tabTop","activeTab","dataUsers","addGroup","progressOnChange","dispatch","state","story","amount","incDec","openBase","dataShop","renderUsers","map","item","key","renderShop","Shop","vertical","selected","photo_200","size","stretched","App","navigator","window","onLine","useState","activePanel","setActivePanel","setUser","setActiveTab","setNetworkStatus","popout","setPopout","getPlatform","setGetPlatform","setPaymentStatus","targetId","fill","useEffect","console","log","a","bridge","send","user","subscribe","detail","type","data","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","sendPromise","then","res","platform","catch","error","fetchData","setAmount","pay","e","priceItem","status","result","axios","get","share","preventDefault","copyLink","clipboard","writeText","qiwiPay","QiwiCheckout","createInvoice","publicKey","phone","alert","currentTarget","dataset","to","target","action","onClose","autoclose","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8a54b476.chunk.js","sourcesContent":["const config = {\r\n    debug: true\r\n};\r\n\r\nexport default config;","import config from '../config';\r\n\r\nfunction requestMethod(method) {\r\n    const url = config.debug\r\n        ? 'https://localhost:10888/'\r\n        : 'https://random-cinema.tk/api/'\r\n    ;\r\n    return url + method;\r\n}\r\n\r\nexport default requestMethod;","import React from 'react';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\nimport Link from '@vkontakte/vkui/dist/components/Link/Link';\r\nimport styles from \"../styles/custom-styles.sass\";\r\n\r\n\r\nconst ListUsers = ({ id, first_name, last_name, avatar, idVk }) => {\r\n    const urlUser = 'https://vk.com/id' + idVk;\r\n\r\n    return (\r\n        <Div className='card'>\r\n            <span className='listNumber'>{id}</span>\r\n            <Link href={urlUser}\r\n            >\r\n                <Cell\r\n                    className='myItem'\r\n                    before={avatar ? <Avatar src={avatar} /> :\r\n                        <Avatar src='https://vk.com/images/camera_200.png' />}\r\n                >\r\n                    {first_name + \" \" + last_name}\r\n                </Cell>\r\n            </Link>\r\n        </Div>\r\n    );\r\n};\r\n\r\nexport default ListUsers;\r\n\r\n","import React from 'react';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\nimport Link from '@vkontakte/vkui/dist/components/Link/Link';\r\nimport styles from \"../styles/custom-styles.sass\";\r\n// import Icon28MusicMicOutline from '@vkontakte/icons/dist/28/music_mic_outline';\r\n// import Icon28GhostOutline from '@vkontakte/icons/dist/28/ghost_outline';\r\n\r\n\r\nconst ListUsersExpect = ({ id, name, color, price, icon, openPay }) => {\r\n    // const urlUser = 'https://vk.com/id' + idVk;\r\n\r\n    return (\r\n        <Div className='card'>\r\n            <span className='listNumber'>{id}</span>\r\n            <Cell\r\n                className='myItem'\r\n                before={icon}\r\n            >\r\n                {name + \" - \" + price + \" \" + \"DCoin\"}\r\n            </Cell>\r\n            {/* <Link onClick={openPay}>\r\n                Купить\r\n            </Link> */}\r\n            <Button \r\n                id={id}\r\n                onClick={openPay}\r\n                mode=\"tertiary\"\r\n            >\r\n                купить</Button>\r\n        </Div>\r\n    );\r\n};\r\n\r\nexport default ListUsersExpect;\r\n\r\n","import React from 'react';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport FixedLayout from '@vkontakte/vkui/dist/components/FixedLayout/FixedLayout';\nimport Tabs from '@vkontakte/vkui/dist/components/Tabs/Tabs';\nimport TabsItem from '@vkontakte/vkui/dist/components/TabsItem/TabsItem';\nimport InfoRow from '@vkontakte/vkui/dist/components/InfoRow/InfoRow';\nimport Progress from '@vkontakte/vkui/dist/components/Progress/Progress';\nimport styles from \"../styles/custom-styles.sass\";\nimport ListUsers from './ListUsers';\nimport Shop from './Shop';\n\n\nconst Home = ({ id, go, fetchedUser, tabShop, tabHome, tabTop, activeTab,\n\tdataUsers, progressOnChange, dispatch, state, story, addGroup, incDec, \n\tamount, openBase, dataShop, openPay }) => {\n\n\n\tconst renderUsers = dataUsers.map(item => {\n\n\t\treturn (\n\t\t\t<ListUsers\n\t\t\t\tkey={item.id}\n\t\t\t\tid={item.id}\n\t\t\t\tidVk={item.idVk}\n\t\t\t\tavatar={item.avatar}\n\t\t\t\tfirst_name={item.first_name}\n\t\t\t\tlast_name={item.last_name}\n\n\t\t\t/>\n\t\t);\n\t});\n\n\n\tconst renderShop = dataShop.map(item => {\n\n\t\treturn (\n\t\t\t<Shop\n\t\t\t\tkey={item.id}\n\t\t\t\tid={item.id}\n\t\t\t\tname={item.name}\n\t\t\t\tprice={item.price}\n\t\t\t\ticon={item.icon}\n\t\t\t\topenPay={openPay}\n\n\n\t\t\t/>\n\t\t);\n\t});\n\n\n\n\treturn (\n\t\t<Panel id={id}>\n\t\t\t<PanelHeader>ДУРКА</PanelHeader>\n\n\t\t\t<FixedLayout vertical=\"top\">\n\t\t\t\t<Tabs className=\"TabsDefaultUser\">\n\n\t\t\t\t\t<TabsItem\n\t\t\t\t\t\tonClick={tabTop}\n\t\t\t\t\t\tselected={activeTab === 'top'}\n\t\t\t\t\t>\n\t\t\t\t\t\tТОП\n                    </TabsItem>\n\n\t\t\t\t\t<TabsItem\n\t\t\t\t\t\tonClick={tabHome}\n\t\t\t\t\t\tselected={activeTab === 'home'}\n\t\t\t\t\t>\n\t\t\t\t\t\tПрофиль\n                    </TabsItem>\n\n\t\t\t\t\t<TabsItem\n\t\t\t\t\t\tonClick={tabShop}\n\t\t\t\t\t\tselected={activeTab === 'shop'}\n\t\t\t\t\t>\n\t\t\t\t\t\tМагазин\n                    </TabsItem>\n\t\t\t\t</Tabs>\n\t\t\t</FixedLayout>\n\n\n\t\t\t{activeTab === 'top'\n\t\t\t\t?\n\t\t\t\t<Div className=\"top\">\n\t\t\t\t\t{renderUsers}\n\t\t\t\t</Div>\n\n\n\t\t\t\t:\n\t\t\t\t''\n\t\t\t}\n\n\n\n\t\t\t{activeTab === 'home'\n\t\t\t\t?\n\t\t\t\t<>\n\t\t\t\t\t<Div className=\"main\">\n\n\n\n\t\t\t\t\t\t{fetchedUser &&\n\t\t\t\t\t\t\t<>\n\n\t\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200} size={120} /> : null}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name} ${\"(Шизоид)\"}`}\n\n\t\t\t\t\t\t\t\t</Div>\n\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t<Div className=\"flexStart\">\n\t\t\t\t\t\t\t<Div className=\"divPadding\">\n\t\t\t\t\t\t\t\tПривлечено : {amount} шизоидов\n\t\t\t\t\t\t\t</Div>\n\n\t\t\t\t\t\t\t<Div className=\"divPadding\">\n\t\t\t\t\t\t\t\tБаланс : {amount} DurkaCoin\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t</Div>\n\n\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tmode=\"commerce\"\n\t\t\t\t\t\t\tsize=\"xl\"\n\t\t\t\t\t\t\tstretched\n\t\t\t\t\t\t\tonClick={openBase}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tПоделиться\n                       </Button>\n\n\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"buttonAddGroup\"\n\t\t\t\t\t\t\tmode=\"secondary\"\n\t\t\t\t\t\t\tonClick={addGroup}\n\t\t\t\t\t\t\tsize=\"xl\"\n\t\t\t\t\t\t\tstretched\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tПодписаться на нашу группу\n                        </Button>\n\n\n\n\n\n\t\t\t\t\t</Div>\n\t\t\t\t</>\n\t\t\t\t:\n\t\t\t\t''\n\t\t\t}\n\n\t\t\t{activeTab === 'shop'\n\t\t\t\t?\n\t\t\t\t<Div className=\"top\">\n\t\t\t\t\t{renderShop}\n\t\t\t\t</Div>\n\t\t\t\t:\n\t\t\t\t''\n\t\t\t}\n\n\n\t\t</Panel>\n\t);\n};\n\nexport default Home;\n","import React, { useState, useEffect, useReducer } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport requestMethod from './helpers/requestMethod';\nimport axios from 'axios';\nimport config from './config';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport ActionSheet from '@vkontakte/vkui/dist/components/ActionSheet/ActionSheet';\nimport ActionSheetItem from '@vkontakte/vkui/dist/components/ActionSheetItem/ActionSheetItem';\nimport Icon28MusicMicOutline from '@vkontakte/icons/dist/28/music_mic_outline';\nimport Icon28SmileOutline from '@vkontakte/icons/dist/28/smile_outline';\nimport Icon28TagOutline from '@vkontakte/icons/dist/28/tag_outline';\nimport Icon28Profile from '@vkontakte/icons/dist/28/profile';\n\nimport Home from './panels/Home';\n\nconst App = () => {\n\tconst navigator = window.navigator.onLine;\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [activeTab, setActiveTab] = useState('home');\n\tconst [networkStatus, setNetworkStatus] = useState(false);\n\tconst [popout, setPopout] = useState();\n\tconst [getPlatform, setGetPlatform] = useState(\"\");\n\tconst [paymentStatus, setPaymentStatus] = useState(false);\n\t// const [targetId, setTargetId] = useState(0);\n\tlet targetId = 0;\n\tconst [dataUsers, setDataUsers] = useState([\n\t\t{\n\t\t\tid: 1,\n\t\t\tidVk: 333333333,\n\t\t\tavatar: \"https://vk.com/images/camera_200.png\",\n\t\t\tfirst_name: \"Кирилл\",\n\t\t\tlast_name: \"Андреев\"\n\t\t},\n\t\t{\n\t\t\tid: 2,\n\t\t\tidVk: 9999999999,\n\t\t\tavatar: \"https://vk.com/images/camera_200.png\",\n\t\t\tfirst_name: \"Игорь\",\n\t\t\tlast_name: \"Каража\"\n\t\t}\n\n\t]);\n\tconst [dataShop, setDataShop] = useState([\n\t\t{\n\t\t\tid: 1,\n\t\t\tname: \"Blue пилюля\t\",\n\t\t\tprice: 50,\n\t\t\ticon: <Icon28MusicMicOutline fill=\"blue\" />\n\t\t},\n\t\t{\n\t\t\tid: 2,\n\t\t\tname: \"Red пилюля\",\n\t\t\tprice: 500,\n\t\t\ticon: <Icon28MusicMicOutline fill=\"red\" />\n\t\t},\n\t\t{\n\t\t\tid: 3,\n\t\t\tname: \"Gold пилюля\",\n\t\t\tprice: 5000,\n\t\t\ticon: <Icon28MusicMicOutline fill=\"orange\" />\n\t\t},\n\t\t{\n\t\t\tid: 4,\n\t\t\tname: \"Отпуск\",\n\t\t\tprice: 50,\n\t\t\ticon: <Icon28TagOutline fill=\"black\" />\n\t\t},\n\t\t{\n\t\t\tid: 5,\n\t\t\tname: \"Смирительная рубашка\",\n\t\t\tprice: 50,\n\t\t\ticon: <Icon28SmileOutline fill=\"black\" />\n\t\t},\n\t\t{\n\t\t\tid: 6,\n\t\t\tname: \"Одиночная камера\",\n\t\t\tprice: 500,\n\t\t\ticon: <Icon28Profile fill=\"black\" />\n\t\t}\n\t]);\n\n\n\tconst updateConnection = (navigator) => {\n\t\tif (!navigator) {\n\t\t\tsetNetworkStatus(true);\n\t\t} else {\n\t\t\tsetNetworkStatus(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (!navigator) {\n\t\t\tsetNetworkStatus(true);\n\t\t\tconsole.log(\"checkNetworkStatus\", navigator);\n\t\t} else {\n\t\t\tsetNetworkStatus(false);\n\t\t\tconsole.log(\"checkNetworkStatus\", navigator);\n\t\t}\n\t\tconsole.log(\"dataUsers:\", dataUsers);\n\t},[navigator]);\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data } }) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\n\t\t}\n\n\t\tbridge.sendPromise('VKWebAppGetClientVersion',\n\t\t).then(res => {\n\t\t\t// console.log(\"ВЕРСИЯ ПРИЛОЖЕНИЯ:\", res);\n\t\t\tif (res.platform === \"ios\") {\n\t\t\t\tsetGetPlatform(\"ios\");\n\t\t\t}\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t});\n\n\t\tfetchData();\n\t}, []);\n\n\t// const initialState = { count: 0 };\n\n\t// function reducer(state, action) {\n\t// \tswitch (action.type) {\n\t// \t\tcase 'increment':\n\t// \t\t\treturn { count: state.count + 10 };\n\t// \t\tcase 'decrement':\n\t// \t\t\treturn { count: state.count - 10 };\n\t// \t\tdefault:\n\t// \t\t\tthrow new Error();\n\t// \t}\n\t// }\n\n\t// const [state, dispatch] = useReducer(reducer, initialState);\n\n\tconst [amount, setAmount] = useState(0);\n\n\tconst incDec = (action) => {\n\t\tif (action.type === 'increment') {\n\t\t\tif (amount < 100) {\n\t\t\t\tsetAmount(amount + 10);\n\t\t\t} else {\n\t\t\t\tsetAmount(amount + 0);\n\t\t\t}\n\t\t} else {\n\t\t\tif (amount === 0) {\n\t\t\t\tsetAmount(amount);\n\t\t\t} else {\n\t\t\t\tsetAmount(amount - 10);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tconst progressOnChange = (e) => {\n\t\tsetAmount(e.target.value);\n\t\tconsole.log(\"amount :\", amount);\n\t}\n\n\tfunction story() {\n\t\tlet url = \"https://vk.com/app7351258\";\n\t\tbridge.sendPromise('VKWebAppShowStoryBox', {\n\t\t\t\"background_type\": \"image\",\n\t\t\t\"url\": \"https://sun1-89.userapi.com/HoZMa0ZNNFflt4SDnoomx0bNiCmRV-bOhbz3qw/hg7IHG1XIvg.jpg\",\n\t\t\t\"attachment\": {\n\t\t\t\t\"text\": \"go_to\",\n\t\t\t\t\"type\": \"url\",\n\t\t\t\t\"url\": url\n\t\t\t}\n\t\t}).then(res => {\n\t\t\tconsole.log(\"story res:\", res); // работает\n\t\t}).catch(error => {\n\t\t\tconsole.log(\"story error:\", error);\n\t\t});\n\t}\n\n\tfunction addGroup() {\n\t\tbridge.send(\"VKWebAppJoinGroup\", { \"group_id\": 192779261 });\n\t\tconsole.log(\"вызвали функцию.:\", addGroup);\n\t}\n\n\tfunction tabShop() {\n\t\tsetActiveTab('shop');\n\t}\n\n\tfunction tabHome() {\n\t\tsetActiveTab('home');\n\t}\n\n\tfunction tabTop() {\n\t\tsetActiveTab('top');\n\t}\n\n\tfunction pay(e) {\n\t\t// const targetId = e.currentTarget.id;\n\t\t// console.log('VALUE targetId',targetId);\n\t\tconst priceItem = dataShop[targetId - 1].price * 0.2;\n\n\t\tbridge.sendPromise('VKWebAppOpenPayForm', {\n\t\t\t\"app_id\": 7351258,\n\t\t\t\"action\": \"pay-to-group\",\n\t\t\t\"params\": {\n\t\t\t\t\"amount\": priceItem,\n\t\t\t\t\"group_id\": 192779261    // моя 192779261\n\t\t\t}\n\t\t}).then(async (res) => {\n\t\t\tif (res.status || res.result.status) {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = (await axios.get(\n\t\t\t\t\t\trequestMethod(\n\t\t\t\t\t\t\t`checkTransaction?userId=${fetchedUser.id}`\n\t\t\t\t\t\t)\n\t\t\t\t\t)).data;\n\n\t\t\t\t\tif (response.status === 'success') {\n\t\t\t\t\t\tsetPaymentStatus(true);\n\t\t\t\t\t\tconsole.log('ОПЛАТА ПРОШЛА 1');\n\n\t\t\t\t\t\t// targetList1(); // вызвать функцию которая меняет Роль пользователя\n\t\t\t\t\t} else {\n                        /**\n                         * Оплата не прошла\n                         * или ее не было\n                         */\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\t// Браузерная ошибка\n\t\t\t\t}\n\t\t\t}\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\n\tdocument.qiwiPay = () => {\n\t\tconsole.log('Вызвана функция qiwiPay');\n\t\tconst priceItem = dataShop[targetId - 1].price * 0.2;\n\t\twindow.QiwiCheckout.createInvoice({\n\t\t\tpublicKey: '48e7qUxn9T7RyYE1MVZswX1FRSbE6iyCj2gCRwwF3Dnh5XrasNTx3BGPiMsyXQFNKQhvukniQG8RTVhYm3iPuaYVi5RBePrfT1bReScJaiVSaSRm3C2n7ojMWhn6FwadkMSHfVa9GEQaH6vxb8khX6TUwvZUBhqfgBNSx5zTnEf5LxBvmue1CEXUZkF1Z',\n\t\t\tamount: priceItem,\n\t\t\tphone: '79625494201',\n\t\t}).then((data) => {\n\t\t\talert(data)\n\t\t\tconsole.log(\n\t\t\t\t'QIWI RESOLVE',\n\t\t\t\tdata\n\t\t\t);\n\t\t\t// document.querySelector('#root').style=\"\";\n\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(\n\t\t\t\t\t'QIWI ERROR:',\n\t\t\t\t\terror\n\t\t\t\t);\n\t\t\t\t// document.querySelector('#root').style=\"\";\n\t\t\t});\n\t}\n\n\n\tfunction share(e) {\n\t\t//  ДОБАВЛЕНИЕ РЕПОСТА НА СТЕНУ ПОЛЬЗОВАТЕЛЯ\n\t\te.preventDefault();\n\t\tlet url = \"https://vk.com/app7351258\";\n\t\tconst photo = \"photo-192779261_457239018,https://vk.com/app7351258\";\n\n\t\tbridge.send(\"VKWebAppShowWallPostBox\", {\n\t\t\t\"message\": `А ты уже был в ДУРКЕ? Приложение - ${url}`,\n\t\t\t\"attachments\": photo,\n\t\t});\n\n\t}\n\n\t// Копирование в буфер\n\tfunction copyLink() {\n\t\tconst link = \"Copy link dsfsdfsdfsdf!\";\n\t\twindow.navigator.clipboard.writeText(link).then(function () {\n\t\t\tconsole.log(\"successfully set\");\n\t\t}, function () {\n\t\t\tconsole.log(\"write failed\");\n\t\t});\n\t}\n\n\tfunction openBase() {\n\t\tconsole.log(\"вызвали функцию\", openBase);\n\t\tsetPopout(<>\n\t\t\t<ActionSheet onClose={() => setPopout(null)}>\n\t\t\t\t<ActionSheetItem autoclose onClick={copyLink} >\n\t\t\t\t\tСкопировать ссылку\n                        </ActionSheetItem>\n\t\t\t\t<ActionSheetItem autoclose onClick={story}>\n\t\t\t\t\tПоделиться в истории\n                        </ActionSheetItem>\n\t\t\t\t<ActionSheetItem autoclose onClick={share}>\n\t\t\t\t\tПоделиться на стене\n                        </ActionSheetItem>\n\t\t\t</ActionSheet>\n\t\t</>)\n\t\t\t;\n\t}\n\n\n\tfunction openPay(e) {\n\t\t// setTargetId(e.currentTarget.id);\n\t\ttargetId = e.currentTarget.id;\n\t\tconsole.log('VALUE targetId',targetId);\n\t\tconst priceItem = dataShop[targetId - 1].price * 0.2;\n\t\tconsole.log('priceItem1',priceItem);\n\n\t\tsetPopout(<>\n\t\t\t<ActionSheet onClose={() => setPopout(null)}>\n\t\t\t    <ActionSheetItem autoclose >\n\t\t\t\t\tОплатить DurkaCoin\n                </ActionSheetItem>\n\t\t\t\t<ActionSheetItem autoclose onClick={document.qiwiPay} >\n\t\t\t\t\tОплатить через QIWI\n                </ActionSheetItem>\n\t\t\t\t<ActionSheetItem autoclose onClick={pay}>\n\t\t\t\t\tОплатить через VK Pay\n                </ActionSheetItem>\n\t\t\t</ActionSheet>\n\t\t</>)\n\t\t\t;\n\t}\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\treturn (\n\t\t<View\n\t\t\tactivePanel={activePanel}\n\t\t\tpopout={popout} >\n\t\t\t<Home id='home'\n\t\t\t\tfetchedUser={fetchedUser}\n\t\t\t\tgo={go}\n\t\t\t\ttabShop={tabShop}\n\t\t\t\ttabHome={tabHome}\n\t\t\t\ttabTop={tabTop}\n\t\t\t\tactiveTab={activeTab}\n\t\t\t\tdataUsers={dataUsers}\n\t\t\t\tgetPlatform={getPlatform}\n\t\t\t\tprogressOnChange={progressOnChange}\n\t\t\t\t// dispatch={dispatch}\n\t\t\t\t// state={state}\n\t\t\t\tstory={story}\n\t\t\t\taddGroup={addGroup}\n\t\t\t\tincDec={incDec}\n\t\t\t\tamount={amount}\n\t\t\t\topenBase={openBase}\n\t\t\t\tdataShop={dataShop}\n\t\t\t\topenPay={openPay}\n\t\t\t\t\n\n\t\t\t/>\n\n\t\t</View>\n\t);\n}\n\nexport default App;\n\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport bridge from '@vkontakte/vk-bridge';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nbridge.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}